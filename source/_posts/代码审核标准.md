---
title: 代码审核标准.md
date: 2022-04-20 12:53:20
tags: [代码规范]
categories: [规范]
---

**[原文链接]( http://showdoc.huifanayb.cn:4999/web/#/p/e5e84799ec3272f72615d7090c95df7d)**

## 框架需符合[项目目版本约束](http://showdoc.huifanayb.cn:4999/web/#/p/8fa06a08ccd4f8d8c51df9ec8b7c0a3b)
## 代码格式需符合 [后端代码格式配置](http://showdoc.huifanayb.cn:4999/web/#/p/38fef09fc67bec02f52fdc107cde88d7)
## 接口文档需符合接口[文档编写示例](http://49.4.55.138:4999/web/#/p/cb0301114aa68d405f30a65b8759df69)
## 请求方式除get请求可以路径传参，其他请求类型一律使用对象传参
## 请求路径多个单词用下划线分隔，不可使用驼峰
## 定义的feign一定要在请求头中定义token，以明确调用方
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-05-27/60af341b3de31.png)
## feign接口请求路径必须以`/api`开头
## 请求需明确标明请求类型，`GET`、`POST`、`PUT`、`DELETE`等，所有写操作不允许为`GET`请求
## 项目中不允许直接throw new ...异常，若要抛出异常需使用CheckUtil中的方法，自定义异常枚举抛出
## 代码中手写SQL，不允许出现select * 场景
## 每个请求接口（包含feign接口）都需要提供单元测试
## 异常类code码需保持唯一
## 接口响应时长不可超过2S(单位秒)
## 多表写操作必须保证事务一致性
## 严禁循环单表写操作，若有相应业务需将多条数据放入一个集合中，执行批量写操作
## Controller中不允许进行try_catch操作
## 涉及到equal()的方法，必须使用Objects.equals方法
## 一个文件中的代码警告不可超过10个

## git 提交标准

* commit注释要清晰，必须注明所做提交具体做了什么

正面示例：具体做了什么交待清楚（时间与用户名可不写）
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7945efe1d.png)

反面示例：具体做了什么从提交记录中无法体现（如：修改注册接口，修改了什么，不知道。可修改为：修改注册接口，同步标签服务，增加默认标签功能）
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a799da4aae.png)


* mvn test 通过
  **三种实现方式**

1、命令行实现方式
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7a3e4da7d.png)

2、maven插件形式
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7ab734b2d.png)

3、项目启动没问题
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7af106b32.png)

* 代码格式化通过代码格式标准
  在自己文件上按（Ctrl+alt+L）或者其他自己设置的格式化快捷键
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7b6189577.png)
  出现上述红框内容说明格式非常好，没有要格式化的内容


* 阿里规约扫描无警告
  反面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7cd65a085.png)

正面示例：
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7d168237e.png)

## 强制性约定（这是红线）

* idea中不可出现爆红    
  反面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7e2b5cc01.png)
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7e395e6a6.png)
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7e8b00d84.png)

正面示例：
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7e68279a7.png)

* 代码格式符合代码格式标准

* 代码中不可出现无用引用包
  反面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a7f9f9842e.png)
* 阿里规约不可扫描出现问题

* 每个类上的注释说明要写清楚
  正面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a809912a6a.png)

反面示例
![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a80f1e7679.png)

* 方法上的描述注释要写清楚，出参、入参、返回值（接口实现方法上的注释可不写）
  正面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a819bb734b.png)
  反面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a81dda0bb2.png)
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a821575209.png)
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a827b4facd.png)

* 统一返回值HttpResult的返回类型在方法声明中必须有
  正面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a82b960ba9.png)
  反面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a83171277c.png)
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a83dbc3dbb.png)
* 入口方法controller的请求实体不可公用（一个实体对应一个请求入口）
  反面示例：
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a84ee0aad1.png)
  ![](http://showdoc.huifanayb.cn:4999/server/../Public/Uploads/2021-01-22/600a85b96fd80.png)

## 代码需符合 [后端代码规范](http://showdoc.huifanayb.cn:4999/web/#/p/9c0423d7da951ea5923f8f381c63a368)

## 审查方式

1、项目技术负责人负责自己所属项目代码审查

2、代码审查总负责人负责抽查项目

3、项目总负责人每周汇总每个人的代码不规范之处代码及数量，以Showdoc形式公示
    
