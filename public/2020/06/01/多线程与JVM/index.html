<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JVM,多线程," />




  


  <link rel="alternate" href="/atom.xml" title="I want jing jing" type="application/atom+xml" />






<meta name="description" content="多线程1、如何在Java中实现线程？Tips：继承Thread、实现Runnable、实现Callable接口通过FutureTask包装器来创建Thread线程、线程池。建议看源码消化； 2、在具体多线程编程实践中，如何选用Runnable还是Thread？Tips：接口、类的区别。讲解服务熔断多线程ExceptionRatioDegradeDemo的代码示例。 3、Thread类中的start">
<meta property="og:type" content="article">
<meta property="og:title" content="多线程与JVM">
<meta property="og:url" content="http://iwantjingjing.com/2020/06/01/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8EJVM/index.html">
<meta property="og:site_name" content="I want jing jing">
<meta property="og:description" content="多线程1、如何在Java中实现线程？Tips：继承Thread、实现Runnable、实现Callable接口通过FutureTask包装器来创建Thread线程、线程池。建议看源码消化； 2、在具体多线程编程实践中，如何选用Runnable还是Thread？Tips：接口、类的区别。讲解服务熔断多线程ExceptionRatioDegradeDemo的代码示例。 3、Thread类中的start">
<meta property="article:published_time" content="2020-06-01T05:16:35.000Z">
<meta property="article:modified_time" content="2022-03-30T07:13:55.446Z">
<meta property="article:author" content="给予ππ">
<meta property="article:tag" content="JVM">
<meta property="article:tag" content="多线程">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://iwantjingjing.com/2020/06/01/多线程与JVM/"/>





  <title>多线程与JVM | I want jing jing</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">I want jing jing</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">I want jing jing ,Don't ask me who is jing jing</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iwantjingjing.com/2020/06/01/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8EJVM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="给予ππ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">多线程与JVM</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-01T13:16:35+08:00">
                2020-06-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h1><h2 id="1、如何在Java中实现线程？"><a href="#1、如何在Java中实现线程？" class="headerlink" title="1、如何在Java中实现线程？"></a>1、如何在Java中实现线程？</h2><p>Tips：继承Thread、实现Runnable、实现Callable接口通过FutureTask包装器来创建Thread线程、线<br>程池。建议看源码消化；</p>
<h2 id="2、在具体多线程编程实践中，如何选用Runnable还是Thread？"><a href="#2、在具体多线程编程实践中，如何选用Runnable还是Thread？" class="headerlink" title="2、在具体多线程编程实践中，如何选用Runnable还是Thread？"></a>2、在具体多线程编程实践中，如何选用Runnable还是Thread？</h2><p>Tips：接口、类的区别。讲解服务熔断多线程ExceptionRatioDegradeDemo的代码示例。</p>
<h2 id="3、Thread类中的start-和run-方法有什么区别？"><a href="#3、Thread类中的start-和run-方法有什么区别？" class="headerlink" title="3、Thread类中的start()和run()方法有什么区别？"></a>3、Thread类中的start()和run()方法有什么区别？</h2><p>Tips：start就绪，run运行，掌握Thread的内部类State</p>
<h2 id="4、Java中Runnable和Callable有什么不同？"><a href="#4、Java中Runnable和Callable有什么不同？" class="headerlink" title="4、Java中Runnable和Callable有什么不同？"></a>4、Java中Runnable和Callable有什么不同？</h2><p>Tips：Runnable和Callable基于接口实现多线程，前者不带返回参数，后者带返回参数</p>
<h2 id="5、Java多线程中调用wait-和-sleep-方法有什么不同？"><a href="#5、Java多线程中调用wait-和-sleep-方法有什么不同？" class="headerlink" title="5、Java多线程中调用wait() 和 sleep()方法有什么不同？"></a>5、Java多线程中调用wait() 和 sleep()方法有什么不同？</h2><p>Tips：Wait、notify一起使用，sleep当前线程睡眠</p>
<h2 id="6、什么是Executor框架？"><a href="#6、什么是Executor框架？" class="headerlink" title="6、什么是Executor框架？"></a>6、什么是Executor框架？</h2><p>Tips：线程池框架，管理线程的生命周期。 Executor框架包含Executors，ExecutorService，CompletionService，<br>Future，Callable等 </p>
<h2 id="7、在Java中Executor和Executors的区别？"><a href="#7、在Java中Executor和Executors的区别？" class="headerlink" title="7、在Java中Executor和Executors的区别？"></a>7、在Java中Executor和Executors的区别？</h2><p>Tips：Executor是多线程自带的框架， Executors是Executor框架的工厂类，通过Executors创建不同类型的线程池</p>
<h2 id="8、Java中用到的线程调度算法是什么"><a href="#8、Java中用到的线程调度算法是什么" class="headerlink" title="8、Java中用到的线程调度算法是什么"></a>8、Java中用到的线程调度算法是什么</h2><p>Tips：对高优先级，使用优先调度的抢占式策略；同优先级线程组成先进先出队列（先到先服务），使用时间片策<br>略。</p>
<h2 id="9、什么是多线程中的上下文切换？"><a href="#9、什么是多线程中的上下文切换？" class="headerlink" title="9、什么是多线程中的上下文切换？"></a>9、什么是多线程中的上下文切换？</h2><p>Tips：CPU通过时间片分配算法来循环执行任务，当前任务执行一个时间片后会切换到下一个任务。但是，在切换<br>前会保存上一个任务的状态，以便下次切换回这个任务时，可以再加载这个任务的状态。所以任务从保存到再加<br>载的过程就是一次上下文切换。</p>
<h2 id="10、什么是线程安全？"><a href="#10、什么是线程安全？" class="headerlink" title="10、什么是线程安全？"></a>10、什么是线程安全？</h2><p>Tips：多线程访问，有锁保护，不会出现数据不一致、数据污染等情况</p>
<h2 id="11、请说说有哪些线程不安全的java类？"><a href="#11、请说说有哪些线程不安全的java类？" class="headerlink" title="11、请说说有哪些线程不安全的java类？"></a>11、请说说有哪些线程不安全的java类？</h2><p>Tips： ArrayList(非)、Vector；HashMap(非)、HashTable</p>
<h2 id="12、Java中如何获取到线程dump文件？"><a href="#12、Java中如何获取到线程dump文件？" class="headerlink" title="12、Java中如何获取到线程dump文件？"></a>12、Java中如何获取到线程dump文件？</h2><p>Tips：jvm常见命令。 jmap -dump:format=b,file=文件名 [pid]。参考：<br><a href="https://www.cnblogs.com/0616--ataozhijia/p/4136312.html" target="_blank" rel="noopener">https://www.cnblogs.com/0616--ataozhijia/p/4136312.html</a></p>
<h2 id="13、池技术有什么作用，常见的池技术有哪些？"><a href="#13、池技术有什么作用，常见的池技术有哪些？" class="headerlink" title="13、池技术有什么作用，常见的池技术有哪些？"></a>13、池技术有什么作用，常见的池技术有哪些？</h2><p>tips：复用对象，节省创建、销毁资源的时间，提升性能</p>
<h2 id="14、请谈谈线程池的使用场景"><a href="#14、请谈谈线程池的使用场景" class="headerlink" title="14、请谈谈线程池的使用场景"></a>14、请谈谈线程池的使用场景</h2><p>tips：大量线程使用的场景，且线程执行的时间较短，特别耗时的操作会导致大量线程阻塞，甚<br>至导致系统宕机</p>
<h2 id="15、用线程池有什么好处？"><a href="#15、用线程池有什么好处？" class="headerlink" title="15、用线程池有什么好处？"></a>15、用线程池有什么好处？</h2><p>tips：线程的复用，节省线程的创建、销毁时间，提升性能。参考jason java多线程.ppt</p>
<h2 id="16、线程池的技术原理是什么？"><a href="#16、线程池的技术原理是什么？" class="headerlink" title="16、线程池的技术原理是什么？"></a>16、线程池的技术原理是什么？</h2><p>Tips：读ThreadPoolExecutor源码，了解execute 方法，掌握线程池的原理示意图。<br>可参考： <a href="https://www.cnblogs.com/cm4j/p/thread-pool.html" target="_blank" rel="noopener">https://www.cnblogs.com/cm4j/p/thread-pool.html</a></p>
<h2 id="17、线程池有哪些种类，各自的使用场景是什么？"><a href="#17、线程池有哪些种类，各自的使用场景是什么？" class="headerlink" title="17、线程池有哪些种类，各自的使用场景是什么？"></a>17、线程池有哪些种类，各自的使用场景是什么？</h2><p>tips：掌握excutors，读源码。参考jason java多线程.ppt</p>
<h2 id="18、线程池有哪些重要的参数？"><a href="#18、线程池有哪些重要的参数？" class="headerlink" title="18、线程池有哪些重要的参数？"></a>18、线程池有哪些重要的参数？</h2><p>Tips：掌握ThreadPoolExecutor， corePoolSize、maximumPoolSize、keepAliveTime</p>
<h2 id="19、你们在具体的设计开发过程中是如何设置这些重要参数的？"><a href="#19、你们在具体的设计开发过程中是如何设置这些重要参数的？" class="headerlink" title="19、你们在具体的设计开发过程中是如何设置这些重要参数的？"></a>19、你们在具体的设计开发过程中是如何设置这些重要参数的？</h2><p>Tips： corePoolSize、maximumPoolSize和cpu、内存有关系，考虑到一定的冗余，宁可小不可大。</p>
<h2 id="20、单例的使用场景是什么，如何实现单例？"><a href="#20、单例的使用场景是什么，如何实现单例？" class="headerlink" title="20、单例的使用场景是什么，如何实现单例？"></a>20、单例的使用场景是什么，如何实现单例？</h2><p>Tips：高性能、节省重量级操作的资源、唯一实例，手写</p>
<h2 id="21、如何在Java中创建线程安全的Singleton？"><a href="#21、如何在Java中创建线程安全的Singleton？" class="headerlink" title="21、如何在Java中创建线程安全的Singleton？"></a>21、如何在Java中创建线程安全的Singleton？</h2><p>Tips：注意线程安全条件下的单例写法</p>
<h2 id="22、synchronzied关键词的使用"><a href="#22、synchronzied关键词的使用" class="headerlink" title="22、synchronzied关键词的使用"></a>22、synchronzied关键词的使用</h2><p>Tips：悲观锁，保证线程安全。参考： <a href="https://blog.csdn.net/aa792978017/article/details/88835512" target="_blank" rel="noopener">https://blog.csdn.net/aa792978017/article/details/88835512</a></p>
<h2 id="23、ReentrantLock和synchronized使用的场景是什么，机制有何不同？"><a href="#23、ReentrantLock和synchronized使用的场景是什么，机制有何不同？" class="headerlink" title="23、ReentrantLock和synchronized使用的场景是什么，机制有何不同？"></a>23、ReentrantLock和synchronized使用的场景是什么，机制有何不同？</h2><p>Tips：二者都是锁， ReentrantLock基于CAS的乐观锁， synchronized是悲观锁。建议读<br>ReentrantLock源码，理解记忆。演示Counter7。</p>
<h2 id="24、什么是ThreadLocal变量？"><a href="#24、什么是ThreadLocal变量？" class="headerlink" title="24、什么是ThreadLocal变量？"></a>24、什么是ThreadLocal变量？</h2><p>Tips： ThreadLocal用于保存某个线程共享变量。不同线程只能从中get，set，remove自己的变量，<br>而不会影响其他线程的变量。讲解ThreadLocal的set、get、remove方法。</p>
<h2 id="25、ThreadLocal技术原理是什么，它在架构中常常用来做什么？"><a href="#25、ThreadLocal技术原理是什么，它在架构中常常用来做什么？" class="headerlink" title="25、ThreadLocal技术原理是什么，它在架构中常常用来做什么？"></a>25、ThreadLocal技术原理是什么，它在架构中常常用来做什么？</h2><p>tips： 读ThreadLocal ，理解ThreadLocalMap。 参考jason 16、ThreadLocal原理及在多层架构中的应<br>                                                 用</p>
<h2 id="26、volatile适用于高并发的什么场景？"><a href="#26、volatile适用于高并发的什么场景？" class="headerlink" title="26、volatile适用于高并发的什么场景？"></a>26、volatile适用于高并发的什么场景？</h2><p>Tips：轻量级锁，状态位。讲解服务熔断多线程ExceptionCountDegradeDemo的代码示例。</p>
<h2 id="27、CountDownLatch用于多线程的什么场景？"><a href="#27、CountDownLatch用于多线程的什么场景？" class="headerlink" title="27、CountDownLatch用于多线程的什么场景？"></a>27、CountDownLatch用于多线程的什么场景？</h2><p>Tips:线程计数、线程等待。建议阅读CountDownLatch，讲解Counter1示例.</p>
<h2 id="28、java多线程有哪些常见的锁，各自用法是什么？"><a href="#28、java多线程有哪些常见的锁，各自用法是什么？" class="headerlink" title="28、java多线程有哪些常见的锁，各自用法是什么？"></a>28、java多线程有哪些常见的锁，各自用法是什么？</h2><p>tips：至少有五种， volatile 、synchronized 、 ReentrantLock 、 Condition、 ReadWriteLock</p>
<h2 id="29、多线程join方法用于什么场景？"><a href="#29、多线程join方法用于什么场景？" class="headerlink" title="29、多线程join方法用于什么场景？"></a>29、多线程join方法用于什么场景？</h2><p>Tips:控制线程顺序，讲解Thread的join源码。讲解JoinTest示例</p>
<h2 id="30、java多线程中让所有子线程执行完毕的方法有哪几种？"><a href="#30、java多线程中让所有子线程执行完毕的方法有哪几种？" class="headerlink" title="30、java多线程中让所有子线程执行完毕的方法有哪几种？"></a>30、java多线程中让所有子线程执行完毕的方法有哪几种？</h2><p>tips：至少有两种。线程的sleep、join。</p>
<h2 id="31、高并发环境下的计数器如何实现？"><a href="#31、高并发环境下的计数器如何实现？" class="headerlink" title="31、高并发环境下的计数器如何实现？"></a>31、高并发环境下的计数器如何实现？</h2><p>Tips：至少有6种实现方式。讲解counter包下的代码示例。复习 CountDownLatch、AtomicInteger、<br>synchronized、ReentrantLock、线程状态。</p>
<h2 id="32、HashTable、HashMap、ConcurrentHashMap各自的技术原理和使用场景是什么？"><a href="#32、HashTable、HashMap、ConcurrentHashMap各自的技术原理和使用场景是什么？" class="headerlink" title="32、HashTable、HashMap、ConcurrentHashMap各自的技术原理和使用场景是什么？"></a>32、HashTable、HashMap、ConcurrentHashMap各自的技术原理和使用场景是什么？</h2><p>Tips： 建议看源码。HashTable线程安全、悲观锁，锁整个hash表的数据，效率低；ConcurrentHashMap线程<br>安全、乐观锁，分段锁； HashMap非线程安全； 可参考：<a href="https://www.cnblogs.com/zq-boke/p/8654539.html" target="_blank" rel="noopener">https://www.cnblogs.com/zq-boke/p/8654539.html</a></p>
<h2 id="33、LinkedBlockingQueue、ConcurrentLinkedQueue各自技术原理和使用场景是什么？"><a href="#33、LinkedBlockingQueue、ConcurrentLinkedQueue各自技术原理和使用场景是什么？" class="headerlink" title="33、LinkedBlockingQueue、ConcurrentLinkedQueue各自技术原理和使用场景是什么？"></a>33、LinkedBlockingQueue、ConcurrentLinkedQueue各自技术原理和使用场景是什么？</h2><p>Tips： 前者：阻塞队列，用于生产消费者模式； 后者：并发队列，用于高并发场景。</p>
<h2 id="34、-Java中如何停止一个线程？"><a href="#34、-Java中如何停止一个线程？" class="headerlink" title="34、 Java中如何停止一个线程？"></a>34、 Java中如何停止一个线程？</h2><p>Tips：stop（不推荐）、状态位、interrupt。讲解ThreadStop1、 ThreadStop2。</p>
<h2 id="35、Java中Semaphore是什么？"><a href="#35、Java中Semaphore是什么？" class="headerlink" title="35、Java中Semaphore是什么？"></a>35、Java中Semaphore是什么？</h2><p>Tips：信号量，用于访问限制可以访问某些资源（物理或逻辑的）线程数目。讲解SemaphoreTest。</p>
<h2 id="36、java多线程中有哪些并发流量控制工具类？"><a href="#36、java多线程中有哪些并发流量控制工具类？" class="headerlink" title="36、java多线程中有哪些并发流量控制工具类？"></a>36、java多线程中有哪些并发流量控制工具类？</h2><p>tips：至少有三种。 CountDownLatch、Semaphore 、CyclicBarrier</p>
<h2 id="37、高并发场景下，如何理解每一个线程执行的逻辑耗时不能过长？"><a href="#37、高并发场景下，如何理解每一个线程执行的逻辑耗时不能过长？" class="headerlink" title="37、高并发场景下，如何理解每一个线程执行的逻辑耗时不能过长？"></a>37、高并发场景下，如何理解每一个线程执行的逻辑耗时不能过长？</h2><p>Tips：如果每一个线程执行的逻辑耗时过长，会导致大量线程阻塞，性能急剧下降，系统可用性<br>存在风险，存在宕机的可能性。</p>
<h2 id="38、什么是线程非安全？"><a href="#38、什么是线程非安全？" class="headerlink" title="38、什么是线程非安全？"></a>38、什么是线程非安全？</h2><p>Tips：不提供数据访问保护，多个线程写数据造成所得到的数据是脏数据。</p>
<h2 id="39、在微服务的分布式架构中，设置服务的超时时间有什么好处？"><a href="#39、在微服务的分布式架构中，设置服务的超时时间有什么好处？" class="headerlink" title="39、在微服务的分布式架构中，设置服务的超时时间有什么好处？"></a>39、在微服务的分布式架构中，设置服务的超时时间有什么好处？</h2><p>Tips：防止大量线程阻塞导致系统宕机。</p>
<h2 id="40、常见的多线程数据结构有哪些，你用过其中的哪些多线程数据结构？"><a href="#40、常见的多线程数据结构有哪些，你用过其中的哪些多线程数据结构？" class="headerlink" title="40、常见的多线程数据结构有哪些，你用过其中的哪些多线程数据结构？"></a>40、常见的多线程数据结构有哪些，你用过其中的哪些多线程数据结构？</h2><p>tips：建议多读concurrent包下的源码。 ConcurrentHashMap、LinkedBlockingQueue、<br>ConcurrentLinkedQueue、Semaphore等</p>
<h2 id="41、多线程的常见设计模式，你用过其中的哪些设计模式"><a href="#41、多线程的常见设计模式，你用过其中的哪些设计模式" class="headerlink" title="41、多线程的常见设计模式，你用过其中的哪些设计模式"></a>41、多线程的常见设计模式，你用过其中的哪些设计模式</h2><p>tips：掌握三种最常见的多线程设计模式。</p>
<h2 id="42、什么是Master-Worker模式？如何实现Master-Worker模式？"><a href="#42、什么是Master-Worker模式？如何实现Master-Worker模式？" class="headerlink" title="42、什么是Master-Worker模式？如何实现Master-Worker模式？"></a>42、什么是Master-Worker模式？如何实现Master-Worker模式？</h2><p>Tips：大任务的并发分解、结果合并。掌握Master-Worker 设计模式原理图。讲解PlusWorker、<br>Master相关代码。</p>
<h2 id="43、什么是Producer-Consumer模式？如何实现Producer-Consumer模式？"><a href="#43、什么是Producer-Consumer模式？如何实现Producer-Consumer模式？" class="headerlink" title="43、什么是Producer-Consumer模式？如何实现Producer-Consumer模式？"></a>43、什么是Producer-Consumer模式？如何实现Producer-Consumer模式？</h2><p>Tips：利用缓冲区对生产者、消费者解耦。掌握生产消费者原理图。讲解Producer、 Consumer</p>
<h2 id="44、什么是Future模式？如何实现Future模式？"><a href="#44、什么是Future模式？如何实现Future模式？" class="headerlink" title="44、什么是Future模式？如何实现Future模式？"></a>44、什么是Future模式？如何实现Future模式？</h2><p>Tips：适合异步耗时的场景。阅读并掌握Excutors、ExecutorService、FutureTask。</p>
<h2 id="45、多线程使用场景是什么？"><a href="#45、多线程使用场景是什么？" class="headerlink" title="45、多线程使用场景是什么？"></a>45、多线程使用场景是什么？</h2><p>Tips：并发场景、”小逻辑”、性能提升。</p>
<h2 id="46、多线程有什么优缺点？"><a href="#46、多线程有什么优缺点？" class="headerlink" title="46、多线程有什么优缺点？"></a>46、多线程有什么优缺点？</h2><p>Tips：优点：提升性能；缺点：门槛高，特别是锁，滥用线程会产生死锁、影响性能甚至宕机，<br>线程切换耗性能；</p>
<h2 id="47、假设某系统的某个接口的峰值TPS为2w-s-其它接口的并发峰值至多为200每秒-，且该接口会"><a href="#47、假设某系统的某个接口的峰值TPS为2w-s-其它接口的并发峰值至多为200每秒-，且该接口会" class="headerlink" title="47、假设某系统的某个接口的峰值TPS为2w/s(其它接口的并发峰值至多为200每秒)，且该接口会"></a>47、假设某系统的某个接口的峰值TPS为2w/s(其它接口的并发峰值至多为200每秒)，且该接口会</h2><p>保存数据至数据库，如何提升该接口的性能？<br>Tips：线程池、多线程、分页、批处理。讲解thunder中间件的ThunderEngine源码。</p>
<h2 id="48、是否熟悉java-concurrent包的内容，请讲讲concurrent包有哪些重要的内容？"><a href="#48、是否熟悉java-concurrent包的内容，请讲讲concurrent包有哪些重要的内容？" class="headerlink" title="48、是否熟悉java concurrent包的内容，请讲讲concurrent包有哪些重要的内容？"></a>48、是否熟悉java concurrent包的内容，请讲讲concurrent包有哪些重要的内容？</h2><p>Tips：建议多阅读java concurrent包的内容。</p>
<h2 id="49、请讲讲并发编程的CAS理论"><a href="#49、请讲讲并发编程的CAS理论" class="headerlink" title="49、请讲讲并发编程的CAS理论"></a>49、请讲讲并发编程的CAS理论</h2><p>tips： Compare And Swap、乐观锁机制、jdk的Unsafe类执行这些操作、Doug Lea、 concurrent 包<br>的重要理论基石。</p>
<h2 id="50、请讲讲并发队列和阻塞队列"><a href="#50、请讲讲并发队列和阻塞队列" class="headerlink" title="50、请讲讲并发队列和阻塞队列"></a>50、请讲讲并发队列和阻塞队列</h2><p>tips： ConcurrentLinkedQueue、 LinkedBlockingQueue。掌握原理。</p>
<h2 id="51、多线程yield方法使用于什么场景？"><a href="#51、多线程yield方法使用于什么场景？" class="headerlink" title="51、多线程yield方法使用于什么场景？"></a>51、多线程yield方法使用于什么场景？</h2><p>Tips： yield：让步，线程等待。</p>
<h2 id="52、请讲讲线程异步处理的原理及关键组件？"><a href="#52、请讲讲线程异步处理的原理及关键组件？" class="headerlink" title="52、请讲讲线程异步处理的原理及关键组件？"></a>52、请讲讲线程异步处理的原理及关键组件？</h2><p>Tips：异步耗时的操作。读源码并掌握Excutors、ExecutorService、FutureTask。</p>
<h2 id="53、在实际项目（产品）研发过程中，你是否有使用过多线程，和线程池，如果有，请举例说明"><a href="#53、在实际项目（产品）研发过程中，你是否有使用过多线程，和线程池，如果有，请举例说明" class="headerlink" title="53、在实际项目（产品）研发过程中，你是否有使用过多线程，和线程池，如果有，请举例说明"></a>53、在实际项目（产品）研发过程中，你是否有使用过多线程，和线程池，如果有，请举例说明</h2><p>Tips：通用常见的技术场景：批量数据的处理。建议用STAR模型回答。</p>
<h2 id="54、什么是多线程的原子操作？"><a href="#54、什么是多线程的原子操作？" class="headerlink" title="54、什么是多线程的原子操作？"></a>54、什么是多线程的原子操作？</h2><p>Tips：基于cas的最基本的操作。阅读AtomicInteger的代码头说明并讲解AtomicInteger的CAS机制。</p>
<h2 id="55、Java-中有哪些原子操作？"><a href="#55、Java-中有哪些原子操作？" class="headerlink" title="55、Java 中有哪些原子操作？"></a>55、Java 中有哪些原子操作？</h2><p>Tips： AtomicInteger、 AtomicLong、AtomicBoolean、 AtomicIntegerArray等等</p>
<h2 id="56、多线程原子操作类使用场景是什么，你在项目的实际研发过程中是否有使用"><a href="#56、多线程原子操作类使用场景是什么，你在项目的实际研发过程中是否有使用" class="headerlink" title="56、多线程原子操作类使用场景是什么，你在项目的实际研发过程中是否有使用"></a>56、多线程原子操作类使用场景是什么，你在项目的实际研发过程中是否有使用</h2><p>过原子操作类？<br>Tips：并发计数，比如：微服务场景下的服务监控的统计。</p>
<h2 id="57、如何在多个线程间共享数据？"><a href="#57、如何在多个线程间共享数据？" class="headerlink" title="57、如何在多个线程间共享数据？"></a>57、如何在多个线程间共享数据？</h2><p>Tips：多个线程之间传参，共享变量；或者内部类；运行MultyThreadShareDateTest。</p>
<h2 id="58、线程的状态有哪些，线程状态的使用场景是什么？"><a href="#58、线程的状态有哪些，线程状态的使用场景是什么？" class="headerlink" title="58、线程的状态有哪些，线程状态的使用场景是什么？"></a>58、线程的状态有哪些，线程状态的使用场景是什么？</h2><p>Tips：建议阅读Thread类及其内部类State。讲解woker-master的Master类</p>
<h2 id="59、有多个线程T1，T2，T3，怎么确保它们按顺序执行？"><a href="#59、有多个线程T1，T2，T3，怎么确保它们按顺序执行？" class="headerlink" title="59、有多个线程T1，T2，T3，怎么确保它们按顺序执行？"></a>59、有多个线程T1，T2，T3，怎么确保它们按顺序执行？</h2><p>tips：参考JoinTest</p>
<h2 id="60、wait-notify-notifyAll一般使用于什么场景？"><a href="#60、wait-notify-notifyAll一般使用于什么场景？" class="headerlink" title="60、wait/notify/notifyAll一般使用于什么场景？"></a>60、wait/notify/notifyAll一般使用于什么场景？</h2><p>Tips：悲观锁，和synchronize关键字联合使用，不建议使用，编程复杂。</p>
<h1 id="JVM复习题"><a href="#JVM复习题" class="headerlink" title="JVM复习题"></a>JVM复习题</h1><h2 id="1、请说说jvm的基本结构"><a href="#1、请说说jvm的基本结构" class="headerlink" title="1、请说说jvm的基本结构"></a>1、请说说jvm的基本结构</h2><p>Tips：建议掌握jvm的基本结构图。java类加载器、方法区、堆、直接内存、java栈、本地方法栈、<br>PC寄存器、执行引擎。参考jason的JVM基础知识及性能调优.ppt。 </p>
<h2 id="2、什么是JVM-？"><a href="#2、什么是JVM-？" class="headerlink" title="2、什么是JVM ？"></a>2、什么是JVM ？</h2><p>Tips：Java Virtual Machine。Java应用和操作系统之间的桥梁。</p>
<h2 id="3、堆空间的结构"><a href="#3、堆空间的结构" class="headerlink" title="3、堆空间的结构"></a>3、堆空间的结构</h2><p>Tips:Eden、S0、S1、tenured(Old Gerneration)。记忆技巧：按照时间来分。参考jason的JVM基础<br>知识及性能调优.ppt。 </p>
<h2 id="4、Java中堆和栈有什么区别？"><a href="#4、Java中堆和栈有什么区别？" class="headerlink" title="4、Java中堆和栈有什么区别？"></a>4、Java中堆和栈有什么区别？</h2><p>Tips：堆主要用于管理对象，栈主要用来管理方法区相关的局部变量。参考：<br><a href="https://www.cnblogs.com/ibelieve618/p/6380328.html" target="_blank" rel="noopener">https://www.cnblogs.com/ibelieve618/p/6380328.html</a></p>
<h2 id="5、为何新生代要设置两个survivor区，jvm的设计上有何目的？"><a href="#5、为何新生代要设置两个survivor区，jvm的设计上有何目的？" class="headerlink" title="5、为何新生代要设置两个survivor区，jvm的设计上有何目的？"></a>5、为何新生代要设置两个survivor区，jvm的设计上有何目的？</h2><p>Tips:复制算法</p>
<h2 id="6、垃圾回收中的复制算法适用于在什么场景下使用？"><a href="#6、垃圾回收中的复制算法适用于在什么场景下使用？" class="headerlink" title="6、垃圾回收中的复制算法适用于在什么场景下使用？"></a>6、垃圾回收中的复制算法适用于在什么场景下使用？</h2><p>Tips:年轻代的垃圾回收。参考jason的JVM基础知识及性能调优.ppt。 </p>
<h2 id="7、老年代的垃圾回收一般用什么算法？"><a href="#7、老年代的垃圾回收一般用什么算法？" class="headerlink" title="7、老年代的垃圾回收一般用什么算法？"></a>7、老年代的垃圾回收一般用什么算法？</h2><p>Tips:标记清除算法、标记压缩算法。参考jason的JVM基础知识及性能调优.ppt。 </p>
<h2 id="8、-java方法栈和本地方法栈的区别？"><a href="#8、-java方法栈和本地方法栈的区别？" class="headerlink" title="8、 java方法栈和本地方法栈的区别？"></a>8、 java方法栈和本地方法栈的区别？</h2><p>Tips: 前者是java方法的调用，后者是java调用native方法，比如操作系统、dll等相关的c语<br>言的方法。</p>
<h2 id="9、GC回收机制？"><a href="#9、GC回收机制？" class="headerlink" title="9、GC回收机制？"></a>9、GC回收机制？</h2><p>Tips:垃圾回收算法、垃圾收集器。</p>
<h2 id="10、top、jmap、jstat、jstack命令各自有什么用途？"><a href="#10、top、jmap、jstat、jstack命令各自有什么用途？" class="headerlink" title="10、top、jmap、jstat、jstack命令各自有什么用途？"></a>10、top、jmap、jstat、jstack命令各自有什么用途？</h2><p>Tips:top系统整体资源使用情况，jmap导出堆到文件，jstat查看jvm运行情况，jstack导出 线程堆栈到文件。</p>
<h2 id="11、有哪些常见的jvm命令，说说各自的用途是什么？"><a href="#11、有哪些常见的jvm命令，说说各自的用途是什么？" class="headerlink" title="11、有哪些常见的jvm命令，说说各自的用途是什么？"></a>11、有哪些常见的jvm命令，说说各自的用途是什么？</h2><p>Tips:掌握jstat、jmap、jstack、jinfo等jvm命令。</p>
<h2 id="12、GC有哪些算法。"><a href="#12、GC有哪些算法。" class="headerlink" title="12、GC有哪些算法。"></a>12、GC有哪些算法。</h2><p>Tips:复制算法、标记算法、标记压缩算法、分代算法。</p>
<h2 id="13、什么是线程中断。"><a href="#13、什么是线程中断。" class="headerlink" title="13、什么是线程中断。"></a>13、什么是线程中断。</h2><p>Tips: stop the world，简称STW，垃圾回收的停顿，参考 billy 1.GC算法与种类</p>
<h2 id="14、MGC、FGC分别是什么意思，它们在什么情况下会发生？"><a href="#14、MGC、FGC分别是什么意思，它们在什么情况下会发生？" class="headerlink" title="14、MGC、FGC分别是什么意思，它们在什么情况下会发生？"></a>14、MGC、FGC分别是什么意思，它们在什么情况下会发生？</h2><p>Tips：年轻代垃圾回收、老年代垃圾回收。参考jason JVM基础知识及性能调优</p>
<h2 id="15、请讲讲jvm的分代，为什么要分代，jvm分代有什么好处？"><a href="#15、请讲讲jvm的分代，为什么要分代，jvm分代有什么好处？" class="headerlink" title="15、请讲讲jvm的分代，为什么要分代，jvm分代有什么好处？"></a>15、请讲讲jvm的分代，为什么要分代，jvm分代有什么好处？</h2><p>Tips：根据对象的实际情况采用不同的分代。掌握分代的临界值变量。参考jason<br>JVM基础知识及性能调优.PPT</p>
<h2 id="16、你知道哪些jvm调优工具么？"><a href="#16、你知道哪些jvm调优工具么？" class="headerlink" title="16、你知道哪些jvm调优工具么？"></a>16、你知道哪些jvm调优工具么？</h2><p>Tips：VisualVM、Jconsole、MAT。参考性能监控工具.ppt</p>
<h2 id="17、在jvm中，年轻代如何向老年代转变的，转换的重要参数是什么"><a href="#17、在jvm中，年轻代如何向老年代转变的，转换的重要参数是什么" class="headerlink" title="17、在jvm中，年轻代如何向老年代转变的，转换的重要参数是什么?"></a>17、在jvm中，年轻代如何向老年代转变的，转换的重要参数是什么?</h2><p>Tips：年龄累加、 MaxTenuringThreshold。参考jason JVM基础知识及性能调优.PPT</p>
<h2 id="18、直接内存使用场景是什么，使用直接内存可能会存在什么问题？"><a href="#18、直接内存使用场景是什么，使用直接内存可能会存在什么问题？" class="headerlink" title="18、直接内存使用场景是什么，使用直接内存可能会存在什么问题？"></a>18、直接内存使用场景是什么，使用直接内存可能会存在什么问题？</h2><p>Tips：java原生、netty、mina等相关的NIO操作。参考jason JVM基础知识及性能调优.PPT</p>
<h2 id="19、堆内存有哪些重要参数？"><a href="#19、堆内存有哪些重要参数？" class="headerlink" title="19、堆内存有哪些重要参数？"></a>19、堆内存有哪些重要参数？</h2><p>Tips: -Xms(初始堆大小)、 -Xmx(最大堆大小)</p>
<h2 id="20、如何设置堆大小，是否有一些经验值？"><a href="#20、如何设置堆大小，是否有一些经验值？" class="headerlink" title="20、如何设置堆大小，是否有一些经验值？"></a>20、如何设置堆大小，是否有一些经验值？</h2><p>Tips:堆内存至少可以设置为整个内存的一半大小，甚至2/3大小。</p>
<h2 id="21、如何打印JVM日志？"><a href="#21、如何打印JVM日志？" class="headerlink" title="21、如何打印JVM日志？"></a>21、如何打印JVM日志？</h2><p>Tips: -XX:+PrintGC、-XX:+PrintGCDetails、-XX:+PrintGCTimeStamps、-XX:+PrintGCDateStamps。演示<br>DirectBufferOOM</p>
<h2 id="22、请介绍常见的jvm参数"><a href="#22、请介绍常见的jvm参数" class="headerlink" title="22、请介绍常见的jvm参数"></a>22、请介绍常见的jvm参数</h2><p>Tips：堆内存参数、年轻代参数、日志参数、直接内存参数等等。参考jason JVM基础知识及性能<br>调优.PPT </p>
<h2 id="23、CMS收集器有什么特点？"><a href="#23、CMS收集器有什么特点？" class="headerlink" title="23、CMS收集器有什么特点？"></a>23、CMS收集器有什么特点？</h2><p>Tips:老年代、并发收集、低停顿。</p>
<h2 id="24、G1收集器有什么特点？"><a href="#24、G1收集器有什么特点？" class="headerlink" title="24、G1收集器有什么特点？"></a>24、G1收集器有什么特点？</h2><p>Tips:年轻代和老年代，最新的垃圾回收算法，较综合。</p>
<h2 id="25、垃圾回收器有哪些？"><a href="#25、垃圾回收器有哪些？" class="headerlink" title="25、垃圾回收器有哪些？"></a>25、垃圾回收器有哪些？</h2><p>Tips: Serial、Parallel 、CMS、G1。参考jason JVM基础知识及性能调优.PPT</p>
<h2 id="26、java内存模型"><a href="#26、java内存模型" class="headerlink" title="26、java内存模型"></a>26、java内存模型</h2><p>Tips:多个线程通信、同步、happens-before原则(volatile、join)。参考：<br><a href="https://www.cnblogs.com/yuanfy008/p/9252555.html" target="_blank" rel="noopener">https://www.cnblogs.com/yuanfy008/p/9252555.html</a></p>
<h2 id="27、什么是类加载器，类加载器有哪些，类加载器的加载顺序是什么？"><a href="#27、什么是类加载器，类加载器有哪些，类加载器的加载顺序是什么？" class="headerlink" title="27、什么是类加载器，类加载器有哪些，类加载器的加载顺序是什么？"></a>27、什么是类加载器，类加载器有哪些，类加载器的加载顺序是什么？</h2><p>Tips：将类的.class文件中的二进制数据读入到内存。三种类加载器：BootstrapClassLoader-&gt;ExtClassLoader-&gt;<br>AppClassLoader ，演示ClassLoaderTest，熟悉rt.jar的Launcher、Classloader。参考：<br><a href="https://www.cnblogs.com/heyanan/p/6123279.html" target="_blank" rel="noopener">https://www.cnblogs.com/heyanan/p/6123279.html</a></p>
<h2 id="28、简述java内存分配与回收策略"><a href="#28、简述java内存分配与回收策略" class="headerlink" title="28、简述java内存分配与回收策略"></a>28、简述java内存分配与回收策略</h2><p>Tips：年轻代，老年代，小对象，大对象。 参考：<a href="https://segmentfault.com/a/1190000014944731" target="_blank" rel="noopener">https://segmentfault.com/a/1190000014944731</a></p>
<h2 id="29、Perm-Space中保存什么数据？会引起OutOfMemory吗？"><a href="#29、Perm-Space中保存什么数据？会引起OutOfMemory吗？" class="headerlink" title="29、Perm Space中保存什么数据？会引起OutOfMemory吗？"></a>29、Perm Space中保存什么数据？会引起OutOfMemory吗？</h2><p>Tips:类加载数据。永久代内存过小，会导致OOM。</p>
<h2 id="30、是否有做过jvm参数方面的调优，如果有，请举例说明。"><a href="#30、是否有做过jvm参数方面的调优，如果有，请举例说明。" class="headerlink" title="30、是否有做过jvm参数方面的调优，如果有，请举例说明。"></a>30、是否有做过jvm参数方面的调优，如果有，请举例说明。</h2><p>Tips：最好用star面试模型。设置堆内存参数、直接内存参数、eclipse、tomcat的相关的jvm参数等等。</p>
<h2 id="31、内存溢出的根本原因是什么，该如何解决？"><a href="#31、内存溢出的根本原因是什么，该如何解决？" class="headerlink" title="31、内存溢出的根本原因是什么，该如何解决？"></a>31、内存溢出的根本原因是什么，该如何解决？</h2><p>Tips:jvm的相关资源不够用，导致内存溢出。解决程序错误、调整参数、分布式架构(大数据、微服务架构，<br>本质都是多台机器分布式计算或者处理相关程序逻辑)。</p>
<h2 id="32、简述java类加载机制"><a href="#32、简述java类加载机制" class="headerlink" title="32、简述java类加载机制"></a>32、简述java类加载机制</h2><p>Tips：熟悉Launcher 、ClassLoader源码理解记忆。</p>
<h2 id="33、GC收集器有哪些？CMS收集器与G1收集器的特点"><a href="#33、GC收集器有哪些？CMS收集器与G1收集器的特点" class="headerlink" title="33、GC收集器有哪些？CMS收集器与G1收集器的特点"></a>33、GC收集器有哪些？CMS收集器与G1收集器的特点</h2><p>Tips:从内存年代、回收算法、线程数等角度整体理解记忆。参考：<br><a href="https://blog.csdn.net/qq_35503221/article/details/80313129" target="_blank" rel="noopener">https://blog.csdn.net/qq_35503221/article/details/80313129</a></p>
<h2 id="34、类加载器双亲委派模型机制是什么？"><a href="#34、类加载器双亲委派模型机制是什么？" class="headerlink" title="34、类加载器双亲委派模型机制是什么？"></a>34、类加载器双亲委派模型机制是什么？</h2><p>Tips：熟悉ClassLoader的loadClass() 。 参考：<a href="https://blog.csdn.net/weixin_38118016/article/details/79579657" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38118016/article/details/79579657</a></p>
<h2 id="35、什么情况下会出现永久代内存溢出，如何解决此类问题？"><a href="#35、什么情况下会出现永久代内存溢出，如何解决此类问题？" class="headerlink" title="35、什么情况下会出现永久代内存溢出，如何解决此类问题？"></a>35、什么情况下会出现永久代内存溢出，如何解决此类问题？</h2><p>Tips: jar包过多、加载大量class文件，永久代内存参数过小。增加JVM的PermSize和MaxPermSize参数大小。<br>演示PermTest、PermTest2、 PermTest3。</p>
<h2 id="36、什么情况下会出现堆内存溢出，如何解决此类问题？"><a href="#36、什么情况下会出现堆内存溢出，如何解决此类问题？" class="headerlink" title="36、什么情况下会出现堆内存溢出，如何解决此类问题？"></a>36、什么情况下会出现堆内存溢出，如何解决此类问题？</h2><p>Tips:参考jason JVM基础知识及性能调优.PPT。演示 HeapOOMTest。</p>
<h2 id="37、什么情况下会出现直接内存溢出，如何解决此类问题？"><a href="#37、什么情况下会出现直接内存溢出，如何解决此类问题？" class="headerlink" title="37、什么情况下会出现直接内存溢出，如何解决此类问题？"></a>37、什么情况下会出现直接内存溢出，如何解决此类问题？</h2><p>Tips:参考jason JVM基础知识及性能调优.PPT。演示 DirectBufferOOM 。</p>
<h2 id="38、什么情况下会出现过多线程导致内存溢出的问题，如何解决此类问题？"><a href="#38、什么情况下会出现过多线程导致内存溢出的问题，如何解决此类问题？" class="headerlink" title="38、什么情况下会出现过多线程导致内存溢出的问题，如何解决此类问题？"></a>38、什么情况下会出现过多线程导致内存溢出的问题，如何解决此类问题？</h2><p>Tips:参考jason JVM基础知识及性能调优.PPT。</p>
<h2 id="39、什么情况下会出现CPU使用率过高的问题，如何解决此类问题？"><a href="#39、什么情况下会出现CPU使用率过高的问题，如何解决此类问题？" class="headerlink" title="39、什么情况下会出现CPU使用率过高的问题，如何解决此类问题？"></a>39、什么情况下会出现CPU使用率过高的问题，如何解决此类问题？</h2><p>Tips:参考jason JVM基础知识及性能调优.PPT。</p>
<h2 id="40、OOM有哪些可能，应该如何处理。"><a href="#40、OOM有哪些可能，应该如何处理。" class="headerlink" title="40、OOM有哪些可能，应该如何处理。"></a>40、OOM有哪些可能，应该如何处理。</h2><p>Tips：该问题比较综合，参考Jason JVM基础知识及性能调优.PPT</p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>读了有收获就请肥宅喝瓶怡宝吧!</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="http://enchoufile.xiaohe.com/IMG_0194.JPG" alt="给予ππ 微信支付"/>
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    给予ππ
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://iwantjingjing.com/2020/06/01/多线程与JVM/" title="多线程与JVM">http://iwantjingjing.com/2020/06/01/多线程与JVM/</a>

  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JVM/" rel="tag"># JVM</a>
          
            <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="tag"># 多线程</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/05/31/JVM%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8/" rel="next" title="JVM垃圾收集器">
                <i class="fa fa-chevron-left"></i> JVM垃圾收集器
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/06/27/mysql%E8%AF%AF%E5%88%A0%E4%B8%80%E6%9D%A1%E6%95%B0%E6%8D%AE%E5%A6%82%E4%BD%95%E6%81%A2%E5%A4%8D/" rel="prev" title="mysql误删一条数据如何恢复">
                mysql误删一条数据如何恢复 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar.JPG"
                alt="给予ππ" />
            
              <p class="site-author-name" itemprop="name">给予ππ</p>
              <p class="site-description motion-element" itemprop="description">我想静静</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">155</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">111</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/jinghongdaxiong" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:xuxiongzi@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#多线程"><span class="nav-number">1.</span> <span class="nav-text">多线程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、如何在Java中实现线程？"><span class="nav-number">1.1.</span> <span class="nav-text">1、如何在Java中实现线程？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、在具体多线程编程实践中，如何选用Runnable还是Thread？"><span class="nav-number">1.2.</span> <span class="nav-text">2、在具体多线程编程实践中，如何选用Runnable还是Thread？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、Thread类中的start-和run-方法有什么区别？"><span class="nav-number">1.3.</span> <span class="nav-text">3、Thread类中的start()和run()方法有什么区别？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、Java中Runnable和Callable有什么不同？"><span class="nav-number">1.4.</span> <span class="nav-text">4、Java中Runnable和Callable有什么不同？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5、Java多线程中调用wait-和-sleep-方法有什么不同？"><span class="nav-number">1.5.</span> <span class="nav-text">5、Java多线程中调用wait() 和 sleep()方法有什么不同？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6、什么是Executor框架？"><span class="nav-number">1.6.</span> <span class="nav-text">6、什么是Executor框架？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7、在Java中Executor和Executors的区别？"><span class="nav-number">1.7.</span> <span class="nav-text">7、在Java中Executor和Executors的区别？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8、Java中用到的线程调度算法是什么"><span class="nav-number">1.8.</span> <span class="nav-text">8、Java中用到的线程调度算法是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9、什么是多线程中的上下文切换？"><span class="nav-number">1.9.</span> <span class="nav-text">9、什么是多线程中的上下文切换？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10、什么是线程安全？"><span class="nav-number">1.10.</span> <span class="nav-text">10、什么是线程安全？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11、请说说有哪些线程不安全的java类？"><span class="nav-number">1.11.</span> <span class="nav-text">11、请说说有哪些线程不安全的java类？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12、Java中如何获取到线程dump文件？"><span class="nav-number">1.12.</span> <span class="nav-text">12、Java中如何获取到线程dump文件？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13、池技术有什么作用，常见的池技术有哪些？"><span class="nav-number">1.13.</span> <span class="nav-text">13、池技术有什么作用，常见的池技术有哪些？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14、请谈谈线程池的使用场景"><span class="nav-number">1.14.</span> <span class="nav-text">14、请谈谈线程池的使用场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15、用线程池有什么好处？"><span class="nav-number">1.15.</span> <span class="nav-text">15、用线程池有什么好处？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16、线程池的技术原理是什么？"><span class="nav-number">1.16.</span> <span class="nav-text">16、线程池的技术原理是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17、线程池有哪些种类，各自的使用场景是什么？"><span class="nav-number">1.17.</span> <span class="nav-text">17、线程池有哪些种类，各自的使用场景是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18、线程池有哪些重要的参数？"><span class="nav-number">1.18.</span> <span class="nav-text">18、线程池有哪些重要的参数？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19、你们在具体的设计开发过程中是如何设置这些重要参数的？"><span class="nav-number">1.19.</span> <span class="nav-text">19、你们在具体的设计开发过程中是如何设置这些重要参数的？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20、单例的使用场景是什么，如何实现单例？"><span class="nav-number">1.20.</span> <span class="nav-text">20、单例的使用场景是什么，如何实现单例？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21、如何在Java中创建线程安全的Singleton？"><span class="nav-number">1.21.</span> <span class="nav-text">21、如何在Java中创建线程安全的Singleton？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22、synchronzied关键词的使用"><span class="nav-number">1.22.</span> <span class="nav-text">22、synchronzied关键词的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23、ReentrantLock和synchronized使用的场景是什么，机制有何不同？"><span class="nav-number">1.23.</span> <span class="nav-text">23、ReentrantLock和synchronized使用的场景是什么，机制有何不同？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24、什么是ThreadLocal变量？"><span class="nav-number">1.24.</span> <span class="nav-text">24、什么是ThreadLocal变量？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25、ThreadLocal技术原理是什么，它在架构中常常用来做什么？"><span class="nav-number">1.25.</span> <span class="nav-text">25、ThreadLocal技术原理是什么，它在架构中常常用来做什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26、volatile适用于高并发的什么场景？"><span class="nav-number">1.26.</span> <span class="nav-text">26、volatile适用于高并发的什么场景？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27、CountDownLatch用于多线程的什么场景？"><span class="nav-number">1.27.</span> <span class="nav-text">27、CountDownLatch用于多线程的什么场景？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28、java多线程有哪些常见的锁，各自用法是什么？"><span class="nav-number">1.28.</span> <span class="nav-text">28、java多线程有哪些常见的锁，各自用法是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29、多线程join方法用于什么场景？"><span class="nav-number">1.29.</span> <span class="nav-text">29、多线程join方法用于什么场景？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30、java多线程中让所有子线程执行完毕的方法有哪几种？"><span class="nav-number">1.30.</span> <span class="nav-text">30、java多线程中让所有子线程执行完毕的方法有哪几种？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31、高并发环境下的计数器如何实现？"><span class="nav-number">1.31.</span> <span class="nav-text">31、高并发环境下的计数器如何实现？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32、HashTable、HashMap、ConcurrentHashMap各自的技术原理和使用场景是什么？"><span class="nav-number">1.32.</span> <span class="nav-text">32、HashTable、HashMap、ConcurrentHashMap各自的技术原理和使用场景是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33、LinkedBlockingQueue、ConcurrentLinkedQueue各自技术原理和使用场景是什么？"><span class="nav-number">1.33.</span> <span class="nav-text">33、LinkedBlockingQueue、ConcurrentLinkedQueue各自技术原理和使用场景是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34、-Java中如何停止一个线程？"><span class="nav-number">1.34.</span> <span class="nav-text">34、 Java中如何停止一个线程？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35、Java中Semaphore是什么？"><span class="nav-number">1.35.</span> <span class="nav-text">35、Java中Semaphore是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#36、java多线程中有哪些并发流量控制工具类？"><span class="nav-number">1.36.</span> <span class="nav-text">36、java多线程中有哪些并发流量控制工具类？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#37、高并发场景下，如何理解每一个线程执行的逻辑耗时不能过长？"><span class="nav-number">1.37.</span> <span class="nav-text">37、高并发场景下，如何理解每一个线程执行的逻辑耗时不能过长？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#38、什么是线程非安全？"><span class="nav-number">1.38.</span> <span class="nav-text">38、什么是线程非安全？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39、在微服务的分布式架构中，设置服务的超时时间有什么好处？"><span class="nav-number">1.39.</span> <span class="nav-text">39、在微服务的分布式架构中，设置服务的超时时间有什么好处？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40、常见的多线程数据结构有哪些，你用过其中的哪些多线程数据结构？"><span class="nav-number">1.40.</span> <span class="nav-text">40、常见的多线程数据结构有哪些，你用过其中的哪些多线程数据结构？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#41、多线程的常见设计模式，你用过其中的哪些设计模式"><span class="nav-number">1.41.</span> <span class="nav-text">41、多线程的常见设计模式，你用过其中的哪些设计模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42、什么是Master-Worker模式？如何实现Master-Worker模式？"><span class="nav-number">1.42.</span> <span class="nav-text">42、什么是Master-Worker模式？如何实现Master-Worker模式？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#43、什么是Producer-Consumer模式？如何实现Producer-Consumer模式？"><span class="nav-number">1.43.</span> <span class="nav-text">43、什么是Producer-Consumer模式？如何实现Producer-Consumer模式？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#44、什么是Future模式？如何实现Future模式？"><span class="nav-number">1.44.</span> <span class="nav-text">44、什么是Future模式？如何实现Future模式？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#45、多线程使用场景是什么？"><span class="nav-number">1.45.</span> <span class="nav-text">45、多线程使用场景是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#46、多线程有什么优缺点？"><span class="nav-number">1.46.</span> <span class="nav-text">46、多线程有什么优缺点？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#47、假设某系统的某个接口的峰值TPS为2w-s-其它接口的并发峰值至多为200每秒-，且该接口会"><span class="nav-number">1.47.</span> <span class="nav-text">47、假设某系统的某个接口的峰值TPS为2w&#x2F;s(其它接口的并发峰值至多为200每秒)，且该接口会</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#48、是否熟悉java-concurrent包的内容，请讲讲concurrent包有哪些重要的内容？"><span class="nav-number">1.48.</span> <span class="nav-text">48、是否熟悉java concurrent包的内容，请讲讲concurrent包有哪些重要的内容？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#49、请讲讲并发编程的CAS理论"><span class="nav-number">1.49.</span> <span class="nav-text">49、请讲讲并发编程的CAS理论</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#50、请讲讲并发队列和阻塞队列"><span class="nav-number">1.50.</span> <span class="nav-text">50、请讲讲并发队列和阻塞队列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#51、多线程yield方法使用于什么场景？"><span class="nav-number">1.51.</span> <span class="nav-text">51、多线程yield方法使用于什么场景？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#52、请讲讲线程异步处理的原理及关键组件？"><span class="nav-number">1.52.</span> <span class="nav-text">52、请讲讲线程异步处理的原理及关键组件？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#53、在实际项目（产品）研发过程中，你是否有使用过多线程，和线程池，如果有，请举例说明"><span class="nav-number">1.53.</span> <span class="nav-text">53、在实际项目（产品）研发过程中，你是否有使用过多线程，和线程池，如果有，请举例说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#54、什么是多线程的原子操作？"><span class="nav-number">1.54.</span> <span class="nav-text">54、什么是多线程的原子操作？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#55、Java-中有哪些原子操作？"><span class="nav-number">1.55.</span> <span class="nav-text">55、Java 中有哪些原子操作？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#56、多线程原子操作类使用场景是什么，你在项目的实际研发过程中是否有使用"><span class="nav-number">1.56.</span> <span class="nav-text">56、多线程原子操作类使用场景是什么，你在项目的实际研发过程中是否有使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#57、如何在多个线程间共享数据？"><span class="nav-number">1.57.</span> <span class="nav-text">57、如何在多个线程间共享数据？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#58、线程的状态有哪些，线程状态的使用场景是什么？"><span class="nav-number">1.58.</span> <span class="nav-text">58、线程的状态有哪些，线程状态的使用场景是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#59、有多个线程T1，T2，T3，怎么确保它们按顺序执行？"><span class="nav-number">1.59.</span> <span class="nav-text">59、有多个线程T1，T2，T3，怎么确保它们按顺序执行？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#60、wait-notify-notifyAll一般使用于什么场景？"><span class="nav-number">1.60.</span> <span class="nav-text">60、wait&#x2F;notify&#x2F;notifyAll一般使用于什么场景？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JVM复习题"><span class="nav-number">2.</span> <span class="nav-text">JVM复习题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、请说说jvm的基本结构"><span class="nav-number">2.1.</span> <span class="nav-text">1、请说说jvm的基本结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、什么是JVM-？"><span class="nav-number">2.2.</span> <span class="nav-text">2、什么是JVM ？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、堆空间的结构"><span class="nav-number">2.3.</span> <span class="nav-text">3、堆空间的结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、Java中堆和栈有什么区别？"><span class="nav-number">2.4.</span> <span class="nav-text">4、Java中堆和栈有什么区别？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5、为何新生代要设置两个survivor区，jvm的设计上有何目的？"><span class="nav-number">2.5.</span> <span class="nav-text">5、为何新生代要设置两个survivor区，jvm的设计上有何目的？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6、垃圾回收中的复制算法适用于在什么场景下使用？"><span class="nav-number">2.6.</span> <span class="nav-text">6、垃圾回收中的复制算法适用于在什么场景下使用？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7、老年代的垃圾回收一般用什么算法？"><span class="nav-number">2.7.</span> <span class="nav-text">7、老年代的垃圾回收一般用什么算法？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8、-java方法栈和本地方法栈的区别？"><span class="nav-number">2.8.</span> <span class="nav-text">8、 java方法栈和本地方法栈的区别？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9、GC回收机制？"><span class="nav-number">2.9.</span> <span class="nav-text">9、GC回收机制？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10、top、jmap、jstat、jstack命令各自有什么用途？"><span class="nav-number">2.10.</span> <span class="nav-text">10、top、jmap、jstat、jstack命令各自有什么用途？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11、有哪些常见的jvm命令，说说各自的用途是什么？"><span class="nav-number">2.11.</span> <span class="nav-text">11、有哪些常见的jvm命令，说说各自的用途是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12、GC有哪些算法。"><span class="nav-number">2.12.</span> <span class="nav-text">12、GC有哪些算法。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13、什么是线程中断。"><span class="nav-number">2.13.</span> <span class="nav-text">13、什么是线程中断。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14、MGC、FGC分别是什么意思，它们在什么情况下会发生？"><span class="nav-number">2.14.</span> <span class="nav-text">14、MGC、FGC分别是什么意思，它们在什么情况下会发生？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15、请讲讲jvm的分代，为什么要分代，jvm分代有什么好处？"><span class="nav-number">2.15.</span> <span class="nav-text">15、请讲讲jvm的分代，为什么要分代，jvm分代有什么好处？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16、你知道哪些jvm调优工具么？"><span class="nav-number">2.16.</span> <span class="nav-text">16、你知道哪些jvm调优工具么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17、在jvm中，年轻代如何向老年代转变的，转换的重要参数是什么"><span class="nav-number">2.17.</span> <span class="nav-text">17、在jvm中，年轻代如何向老年代转变的，转换的重要参数是什么?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18、直接内存使用场景是什么，使用直接内存可能会存在什么问题？"><span class="nav-number">2.18.</span> <span class="nav-text">18、直接内存使用场景是什么，使用直接内存可能会存在什么问题？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19、堆内存有哪些重要参数？"><span class="nav-number">2.19.</span> <span class="nav-text">19、堆内存有哪些重要参数？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20、如何设置堆大小，是否有一些经验值？"><span class="nav-number">2.20.</span> <span class="nav-text">20、如何设置堆大小，是否有一些经验值？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21、如何打印JVM日志？"><span class="nav-number">2.21.</span> <span class="nav-text">21、如何打印JVM日志？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22、请介绍常见的jvm参数"><span class="nav-number">2.22.</span> <span class="nav-text">22、请介绍常见的jvm参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23、CMS收集器有什么特点？"><span class="nav-number">2.23.</span> <span class="nav-text">23、CMS收集器有什么特点？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24、G1收集器有什么特点？"><span class="nav-number">2.24.</span> <span class="nav-text">24、G1收集器有什么特点？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25、垃圾回收器有哪些？"><span class="nav-number">2.25.</span> <span class="nav-text">25、垃圾回收器有哪些？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26、java内存模型"><span class="nav-number">2.26.</span> <span class="nav-text">26、java内存模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27、什么是类加载器，类加载器有哪些，类加载器的加载顺序是什么？"><span class="nav-number">2.27.</span> <span class="nav-text">27、什么是类加载器，类加载器有哪些，类加载器的加载顺序是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28、简述java内存分配与回收策略"><span class="nav-number">2.28.</span> <span class="nav-text">28、简述java内存分配与回收策略</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29、Perm-Space中保存什么数据？会引起OutOfMemory吗？"><span class="nav-number">2.29.</span> <span class="nav-text">29、Perm Space中保存什么数据？会引起OutOfMemory吗？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30、是否有做过jvm参数方面的调优，如果有，请举例说明。"><span class="nav-number">2.30.</span> <span class="nav-text">30、是否有做过jvm参数方面的调优，如果有，请举例说明。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31、内存溢出的根本原因是什么，该如何解决？"><span class="nav-number">2.31.</span> <span class="nav-text">31、内存溢出的根本原因是什么，该如何解决？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32、简述java类加载机制"><span class="nav-number">2.32.</span> <span class="nav-text">32、简述java类加载机制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33、GC收集器有哪些？CMS收集器与G1收集器的特点"><span class="nav-number">2.33.</span> <span class="nav-text">33、GC收集器有哪些？CMS收集器与G1收集器的特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34、类加载器双亲委派模型机制是什么？"><span class="nav-number">2.34.</span> <span class="nav-text">34、类加载器双亲委派模型机制是什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35、什么情况下会出现永久代内存溢出，如何解决此类问题？"><span class="nav-number">2.35.</span> <span class="nav-text">35、什么情况下会出现永久代内存溢出，如何解决此类问题？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#36、什么情况下会出现堆内存溢出，如何解决此类问题？"><span class="nav-number">2.36.</span> <span class="nav-text">36、什么情况下会出现堆内存溢出，如何解决此类问题？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#37、什么情况下会出现直接内存溢出，如何解决此类问题？"><span class="nav-number">2.37.</span> <span class="nav-text">37、什么情况下会出现直接内存溢出，如何解决此类问题？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#38、什么情况下会出现过多线程导致内存溢出的问题，如何解决此类问题？"><span class="nav-number">2.38.</span> <span class="nav-text">38、什么情况下会出现过多线程导致内存溢出的问题，如何解决此类问题？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39、什么情况下会出现CPU使用率过高的问题，如何解决此类问题？"><span class="nav-number">2.39.</span> <span class="nav-text">39、什么情况下会出现CPU使用率过高的问题，如何解决此类问题？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40、OOM有哪些可能，应该如何处理。"><span class="nav-number">2.40.</span> <span class="nav-text">40、OOM有哪些可能，应该如何处理。</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">给予ππ</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
