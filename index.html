<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh.">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="我想静静,别问我静静是谁">
<meta property="og:type" content="website">
<meta property="og:title" content="I want jing jing">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="I want jing jing">
<meta property="og:description" content="我想静静,别问我静静是谁">
<meta property="og:locale" content="zh.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="I want jing jing">
<meta name="twitter:description" content="我想静静,别问我静静是谁">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>I want jing jing</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh.">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">I want jing jing</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">I want jing jing ,Don't ask me who is jing jing</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/17/homestead-安装PHP-mongo-扩展/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/17/homestead-安装PHP-mongo-扩展/" itemprop="url">homestead 安装PHP mongo 扩展</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-17T19:51:52+08:00">
                2018-12-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="解决痛点-homestead多个PHP版本-某个版本安装mongo扩展"><a href="#解决痛点-homestead多个PHP版本-某个版本安装mongo扩展" class="headerlink" title="解决痛点: homestead多个PHP版本,某个版本安装mongo扩展"></a>解决痛点: homestead多个PHP版本,某个版本安装mongo扩展</h1><h2 id="1-进入虚拟机"><a href="#1-进入虚拟机" class="headerlink" title="1. 进入虚拟机"></a>1. 进入虚拟机</h2><pre><code>vagrant ssh
</code></pre><h2 id="2-切换到管理员"><a href="#2-切换到管理员" class="headerlink" title="2. 切换到管理员"></a>2. 切换到管理员</h2><pre><code>sudo su     
</code></pre><h2 id="3-查看PHP版本路径"><a href="#3-查看PHP版本路径" class="headerlink" title="3. 查看PHP版本路径"></a>3. 查看PHP版本路径</h2><pre><code>// 选择你要安装的PHP版本(我是PHP5.6)
php --ini 
或
find / -name php.ini
返回
/etc/php/7.1/cli/php.ini
/etc/php/7.1/fpm/php.ini
/etc/php/7.2/cli/php.ini
/etc/php/7.2/fpm/php.ini
/etc/php/7.0/cli/php.ini
/etc/php/7.0/fpm/php.ini
/etc/php/5.6/cli/php.ini
/etc/php/5.6/fpm/php.ini
</code></pre><h2 id="4-进入工作目录-这个随意-我习惯进入-etc-php-5-6"><a href="#4-进入工作目录-这个随意-我习惯进入-etc-php-5-6" class="headerlink" title="4. 进入工作目录(这个随意,我习惯进入/etc/php/5.6)"></a>4. 进入工作目录(这个随意,我习惯进入/etc/php/5.6)</h2><pre><code>cd /etc/php/5.6
</code></pre><h2 id="5-下载php-mongo扩展"><a href="#5-下载php-mongo扩展" class="headerlink" title="5.下载php mongo扩展"></a>5.下载php mongo扩展</h2><pre><code>git clone https://github.com/mongodb/mongo-php-driver-legacy.git
</code></pre><h2 id="6-进入下载的目录"><a href="#6-进入下载的目录" class="headerlink" title="6. 进入下载的目录"></a>6. 进入下载的目录</h2><pre><code>cd mongo-php-driver-legacy/
</code></pre><h2 id="7-选择对应的扩展"><a href="#7-选择对应的扩展" class="headerlink" title="7. 选择对应的扩展"></a>7. 选择对应的扩展</h2><pre><code>// 参考文档
https://docs.mongodb.com/ecosystem/drivers/php/#drivers

git branch -a

git checkout v1.6
</code></pre><h2 id="8-编译PHP的mongo扩展"><a href="#8-编译PHP的mongo扩展" class="headerlink" title="8. 编译PHP的mongo扩展"></a>8. 编译PHP的mongo扩展</h2><pre><code>//（不同php版本的情况下phpize版本不同）
/usr/bin/phpize5.6 

//（这里边也需要根据情况指定php-config的版本，且和phpize的版本保持一致。）
./configure --with-php-config=/usr/bin/php-config5.6 

make &amp;&amp; make install 
</code></pre><ul>
<li>编译完成后，mongo的php扩展在module目录中，它的文件名是mongo.so*</li>
</ul>
<h2 id="9-查看php的extension-dir"><a href="#9-查看php的extension-dir" class="headerlink" title="9. 查看php的extension_dir"></a>9. 查看php的extension_dir</h2><pre><code>/usr/bin/php5.6 -i|grep extension_dir

返回 extension_dir =&gt; /usr/lib/php/20131226 =&gt; /usr/lib/php/20131226
</code></pre><ul>
<li>这说明php的扩展目录是/usr/lib/php/20131226</li>
<li>或者你用phpinfo()输出一个页面，在里面找extension_dir也可以找到*</li>
</ul>
<h2 id="10-把mongo-so扩展模块移入php扩展目录中"><a href="#10-把mongo-so扩展模块移入php扩展目录中" class="headerlink" title="10. 把mongo.so扩展模块移入php扩展目录中"></a>10. 把mongo.so扩展模块移入php扩展目录中</h2><pre><code>mv ./module/mongo.so /usr/lib/php/20131226  
</code></pre><ul>
<li>注意，前提要求当前工作目录是在刚才编译的mongo-php-driver-legacy目录中</li>
</ul>
<h2 id="11-添加php配置文件的ini文件"><a href="#11-添加php配置文件的ini文件" class="headerlink" title="11. 添加php配置文件的ini文件"></a>11. 添加php配置文件的ini文件</h2><pre><code>sudo touch /etc/php/5.6/fpm/conf.d/20-mongo.ini
</code></pre><h2 id="12-使用vi编辑器写入如下内容"><a href="#12-使用vi编辑器写入如下内容" class="headerlink" title="12. 使用vi编辑器写入如下内容"></a>12. 使用vi编辑器写入如下内容</h2><pre><code>vim /etc/php/5.6/fpm/conf.d/20-mongo.ini

extension=mongo.so
</code></pre><ul>
<li>记得使用vi编辑器时使用：wq命令保存</li>
</ul>
<h2 id="13-重启PHP"><a href="#13-重启PHP" class="headerlink" title="13. 重启PHP"></a>13. 重启PHP</h2><pre><code>service php5.6-fpm restart
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/11/Vagrant基本用法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/11/Vagrant基本用法/" itemprop="url">Vagrant基本用法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-11T16:06:18+08:00">
                2018-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="官网-https-www-vagrantup-com"><a href="#官网-https-www-vagrantup-com" class="headerlink" title="官网: https://www.vagrantup.com/"></a>官网: <a href="https://www.vagrantup.com/" target="_blank" rel="noopener">https://www.vagrantup.com/</a></h2><h1 id="intro-介绍"><a href="#intro-介绍" class="headerlink" title="intro 介绍"></a>intro 介绍</h1><h2 id="what-is-vagrant-流浪汉是什么"><a href="#what-is-vagrant-流浪汉是什么" class="headerlink" title="what is vagrant (流浪汉是什么)"></a>what is vagrant (流浪汉是什么)</h2><h3 id="Introduction-to-Vagrant-流浪汉简介"><a href="#Introduction-to-Vagrant-流浪汉简介" class="headerlink" title="Introduction to Vagrant (流浪汉简介)"></a>Introduction to Vagrant (流浪汉简介)</h3><pre><code>Vagrant is a tool for building and managing virtual machine
environments in a single workflow. With an easy-to-use workflow
and focus on automaiton, Vagrant lowers development setup time,
increases production parity,and makes the &quot;works on my machine&quot;
excuse a relic of the past.

if you are already familiar with the basics of Vagrant, the 
documentation provides a better reference build for all available
features and internals.

Vagrant是一种在单个工作流程中构建和管理虚拟环境的工具.通过易于使用的工
作流程并专注于自动化,Vagrant降低了开发环境的设置时间,提高了生产平价,
并使&quot;在我的假期上工作&quot;称为过去的遗留物.

如果您已经熟悉Vagrant的基础知识,那么该文档可为所有可用功能和内部提供
更好的参考构建.
</code></pre><h3 id="why-Vagrant-为什么选择Vagrant"><a href="#why-Vagrant-为什么选择Vagrant" class="headerlink" title="why Vagrant (为什么选择Vagrant)"></a>why Vagrant (为什么选择Vagrant)</h3><pre><code>vagrant provides easy to configure,reproducible,and portable
work environments built on top of industry-standard technology
and controlled by a single consistent workflow to help maximize 
the productivity and flexibility of you and your team.

To achieve its magic,Vagrant stands on the shoulders of giants.
Machines are provisioned on top of VirtualBox,VMware,AWS,or any
other provider,Then,Industry-standard providioning tools such
as shell scripts,Chef,or Puppet,can automatically install and
configure software on the virtual machine.

Vagrant 提供易于配置,可重复和便携的工作环境,基于行和标准技术构建,并由单一
一致的工作流程控制,以帮助您和您的团队最大限度地提高生成力和灵魂性.

为了实现其魔力,Vagrant站在巨人的肩膀上.在VirtualBox,VMware,AWS或
任何其他提供商之上配置计算机.然后,行业标准配置工具(如shell脚本,Chef或
Puppet)可以在虚拟机上自动安装和配置软件.
</code></pre><h3 id="For-Developers-对于开发者"><a href="#For-Developers-对于开发者" class="headerlink" title="For Developers (对于开发者)"></a>For Developers (对于开发者)</h3><pre><code>if you are a developer,Vagarnt will isolate dependencies and
their configuration within a single disposable,consistent 
environment,without sacrificing any of the tools you are
used to working with(editors,browsers,debuggers,etc.).Once
you or someone else creates a single Vagrantfile,you just 
need to vagrant up and everything is installed and configured
for you to work .Other members of your team create their
development environments form the same configuration,so 
whether you are working on Linux,Mac OSX,or Windows,all
your team members are running code in the same environment
,against the same dependencies,al configured the same way.
Say goodbye to &quot;works on my machine&quot;bugs.

如果您是一位开发人员,Vagrant将在一个一致的环境中隔离依赖及其配置,
而不会牺牲您习惯使用的任何工具(编辑器,浏览器,调试器等).一旦您或其他人
创建了单个Vagrant文件,您只需要运行vagrant up命令安装并配置所有内容
即可使用.团队的其他成员使用相同的配置创建他们的开发环境,因此无论您是在
Linux,Mac OS X还是Windows上工作,您的所有团队成员都在同一环境中运行
代码,针对相同的依赖项,所有组件都配置相同办法.告别&quot;在我的机器上工作&quot;的
错误.
</code></pre><h3 id="For-Operators-对于运维"><a href="#For-Operators-对于运维" class="headerlink" title="For Operators (对于运维)"></a>For Operators (对于运维)</h3><pre><code>if you are an operations engineer or DevOps engineer,Vagrant
gives you a disposable environment and consisitent workflow
for developing and testing infrastructure management scripts.
you can quickly test things like shell scripts,Chef cookbooks,
Puppet modules,and more using local virtualization such as 
VirtualBox or VMware.Then,with the same configuration,you can
test these scripts on remote clouds such as AWS or RackSpace 
with the same workflow.Ditch your custom scripts to recycle
EC2 instances,stop juggling SSH prompts to various machines,
and start using Vagrant to bring sanity to your life.

如果你是运维工程师或者开发运维工程师,Vagrant为您提供一次性环境和一致的
工作流程,用于开发和测试基础架构管理脚本.您可以使用VirtualBox或VMware
等本地虚拟化快速测试shell脚本,Chef cookbook,Puppet模块等内容.然后
,使用相同的配置,您可以使用相同的工作流在远程云(如AWS或RackSpace)上测试
这些脚本.抛弃自定义脚本以回收EC2实例,停止将SSH提示传递给各种计算机,并
开始使用Vagrant为您的生活带来理智.
</code></pre><h3 id="For-Designers-对于设计"><a href="#For-Designers-对于设计" class="headerlink" title="For Designers(对于设计)"></a>For Designers(对于设计)</h3><pre><code>If you are a designer,Vagrant will automatically set everything
up that is required for that web app in order for you to focus
on doing what you do best:design.Once a developer configures
Vagrant,you do not need to worry about how to get that app running
ever again.No more bothering other developers to help you fix
your environment so you can test designs.Just check out the code
,vagrant up,and start designing.

如果你是个设计师,Vagrant 将自动设置该web应用程序所需的所有内容,以便你
集中精力做你最擅长的事情:设计.当开发人员配置了一次Vagrant,你再也不用
担心怎样去运行应用程序.不必再打扰其他开发人员来帮助你修复环境,因此你能
测试你的设计.仅打出单词,vagrant up ,就可以开始设计了.
</code></pre><h3 id="For-Everyone-对于任何人"><a href="#For-Everyone-对于任何人" class="headerlink" title="For Everyone(对于任何人)"></a>For Everyone(对于任何人)</h3><pre><code>Vagrant is designed for erveyone as the easiest and fastest
way to create a virtualized environment!

Vagrant 的设计对任何人来说都是最简单最快速的获取虚拟环境的方式.
</code></pre><h2 id="Vagrant-vs-Other-Software-Vagrant-与其他软件的对比"><a href="#Vagrant-vs-Other-Software-Vagrant-与其他软件的对比" class="headerlink" title="Vagrant vs. Other Software (Vagrant 与其他软件的对比)"></a>Vagrant vs. Other Software (Vagrant 与其他软件的对比)</h2><pre><code>Vagrant is not the only tool to manage virtual machines
and development environments.This section compares Vagrant
to these other software choices.

Vagrant 不是唯一管理虚拟机和开发环境的工具,本节将比较Vagrant与其他
软件以便选择.

Due to the bias of the comparisons,we attempt to only use
facts.If you find something that is invalid or out of date
in the comparisons,please open an issue and we&apos;ll address
it as soon as possible.

由于比较的偏颇,我们试图只用事实说话,在比较中假如你发现了无效的或者过期
的内容,请开启一个issue,我们将尽可能的处理它.

Use the navigation on the left to read comparisons of Vagrant
versus similar software.

使用左侧导航栏去阅读Vagrant与相似软件的比较
</code></pre><h3 id="CLI-Tools"><a href="#CLI-Tools" class="headerlink" title="CLI Tools"></a>CLI Tools</h3><h4 id="Vagrant-vs-CLI-Tools"><a href="#Vagrant-vs-CLI-Tools" class="headerlink" title="Vagrant vs CLI Tools"></a>Vagrant vs CLI Tools</h4><pre><code>Virtualization software like VirtualBox and VMware come with
command line utilities for managing the lifecycle of machines
on their platform.Many people make use of these utilties for 
managing the lifecycle of machines on their platform.Many people
make use of these utilities to write their own automation.
Vagrant actually uses many of these utilties internally.

虚拟化软件如VirtualBox和VMware,带有命令行工具来管理平台上的机器的生命
周期.许多人使用这些工具来写他们自己的自动化程序.Vagrant实际上在内部用了
很多这样的工具.

The difference between these CLI tool and Vagrant is that 
Vagrant builds on top of these utilties in a number of ways 
while still providing a consistent workflow.Vagrant supports
multiple provisioners to setup the machine,automatic SSH setup,
creating HTTP tunnels into your development environment,and more.
All of these can be configured using a single simple configuration
file.

这些CLI工具与Vagrant的区别在于,Vagrant以多种方式在这些实用程序之上
构建,同时仍然提供一致的工作流.Vagrant 支持多种同步文件夹类型,设置机器
的多个提供程序 自动SSH设置 创建多开发环境中的HTTP隧道等.所有这些都可以
使用一个简单的配置文件来配置.

Vagrant still has a number of improvements over manual scripting
even if you ignore all the higher-level features Vagrant provides.
The command-line utilities provided by vitualization software
often change each version or have subtle bugs with workarounds.
Vagrant automatically detects the version,uses the correct flags,
can work around known issues.So if you&apos;re using one version
of VirtualBox and a co-worker is using a different version,
Vagrant will still work consistently.

Vagrant在手动脚本方面仍有许多改进.即使你忽略了流浪汉提供的所有高级特征.
虚拟化软件提供的命令行工具经常改变每个版本或有变通方法的细微错误.
流浪汉自动检测版本,使用正确的标志,能围绕已知问题工作.
因此假如你使用一个版本的VirtualBox而另一个同事使用不同的版本,Vagrant
仍然可以一致工作.

For highly-specifil workflows that don&apos;t change often.it can
still be beneficial to maintain custom scripts .Vagrant is 
tageted at building development environments but some 
advanced users still use the ClI tools underneath to do 
other manual things.

对于不经常改变的高度特定的工作流,维护自定义脚本仍然是有益的.Vagrant
的目标是构建开发环境,但是一些高级用户仍然使用下面的CLI工具来完成
其他手动操作.
</code></pre><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><h4 id="Vagrant-vs-Docker"><a href="#Vagrant-vs-Docker" class="headerlink" title="Vagrant vs. Docker"></a>Vagrant vs. Docker</h4><pre><code>Vagrant is a tool focused on providing a consistent
development environment workflow across multiple 
operating systems.Docker is a container management
that can consistently run sofeware as long as a 
containerization system exists.

Vagrant是一个专注于跨多个操作系统提供一致的开发环境工作流的工具.
Docker是一种容器管理,只要存在容器化系统,就可以始终如一地运行软件.

Containers are generally more lightweight than virtual
machines,so starting and stopping containers is extremely
fast. Most common development machines don&apos;t have a 
containerization system built-in, and Docker uses a 
virtual machine with Linux installed to provide that.

容器一般比虚拟机更轻量级,因此开启或停止容器是非常快的.大多数常见的
开发及其没有内置化的容器系统,Doker使用安装了Linux的虚拟机来提供这
一点.

Currently,Docker lacks support for certain operating
systems(such as BSD).if you target deployment is one
of these operating systems,Docker will not provide 
the same prodution parity as tool like Vagrant.Vagrant 
will allow you to run a Windows development environment
on Mac or Linux,as well.

目前,Docker缺乏对某些操作系统(如:BSD)的支持.如果你的目标是部署
这些操作系统之一,那么Docker不会像Vagrant一样提供相同的一致产品.
Vagrant允许你在Mac或Linux上运行Windows开发环境.

For microservice heavy environments,Docker can be attractive
because you can easily start a single Docker VM and start
many containers above that very quickly.This is a good use
case for Docker.Vagrant can do this as well with the Docker
provider.A primary benefit for Vagrant is a consistent
workflow but there are many cases where a pure-Docker
workflow does make sense.

Both Vagrant and Docker have a vast library of 
community-contributed &quot;images&quot;or&quot;boxes&quot;to choose from.

对于微服务繁重的环境,Docker可能很有吸引力,因为您可以单个Docker
VM 并快速启动多个容器.这是Docker的一个很好的用例.Vagrant也可以
使用Docker提供程序执行此操作.Vagrant的主要好处是一致的工作流程,
但在很多情况下,纯Docker工作流程确实有意义.

Vagrant和Docker都拥有庞大的社区贡献&quot;图像&quot;或&quot;盒子&quot;库供您选择.
</code></pre><h3 id="Terraform"><a href="#Terraform" class="headerlink" title="Terraform"></a>Terraform</h3><h4 id="Vagrant-vs-Terraform"><a href="#Vagrant-vs-Terraform" class="headerlink" title="Vagrant vs. Terraform"></a>Vagrant vs. Terraform</h4>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/27/Linux常用命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/Linux常用命令/" itemprop="url">Linux常用命令</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-27T11:41:49+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="日常操作命令"><a href="#日常操作命令" class="headerlink" title="日常操作命令"></a>日常操作命令</h1><h2 id="查看当前所在的工作目录的全路径pwd"><a href="#查看当前所在的工作目录的全路径pwd" class="headerlink" title="查看当前所在的工作目录的全路径pwd"></a>查看当前所在的工作目录的全路径pwd</h2><pre><code>[root@localhost ~]# pwd
/root
</code></pre><h2 id="查看当前系统的时间date"><a href="#查看当前系统的时间date" class="headerlink" title="查看当前系统的时间date"></a>查看当前系统的时间date</h2><pre><code>[root@localhost ~]# date +%Y-%m-%d

date +%Y-%m-%d --date=&quot;-1 day&quot; #加减也可以 month | year

date -s &quot;2016-07-28 16:12:00&quot; ## 修改时间
</code></pre><h2 id="查看有谁在线-哪些人登陆了服务器"><a href="#查看有谁在线-哪些人登陆了服务器" class="headerlink" title="查看有谁在线(哪些人登陆了服务器)"></a>查看有谁在线(哪些人登陆了服务器)</h2><pre><code>who 查看当前在线

last 查看最近的登陆历史记录
</code></pre><h2 id="关机-重启"><a href="#关机-重启" class="headerlink" title="关机/重启"></a>关机/重启</h2><pre><code>关机(必须用root用户)
shutdown -h now ## 立刻关机
shutdown -h +10 ## 10分钟以后关机
shutdown -h 12:00:00 ## 12点整的时候关机
halt #  等于立刻关机

重启
shutdown -r now
reboot # 等于立刻重启
</code></pre><h2 id="清屏"><a href="#清屏" class="headerlink" title="清屏"></a>清屏</h2><pre><code>clear ## 或者用快捷键 Ctrl + 1
</code></pre><h2 id="退出当前进程"><a href="#退出当前进程" class="headerlink" title="退出当前进程"></a>退出当前进程</h2><pre><code>Ctrl + c  ##有些程序也可以用q键退出
</code></pre><h2 id="挂起当前进程"><a href="#挂起当前进程" class="headerlink" title="挂起当前进程"></a>挂起当前进程</h2><pre><code>Ctrl + z ## 进程会挂起到后台
bg jobid ## 进程在后台继续执行
fg jobid ## 让进程回到前台
</code></pre><h2 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h2><pre><code>相当于Java中System.out.println(userName)
a=&quot;test&quot;
echo a ## a
echo $a ## test
</code></pre><h1 id="目录操作"><a href="#目录操作" class="headerlink" title="目录操作"></a>目录操作</h1><h2 id="查看目录信息"><a href="#查看目录信息" class="headerlink" title="查看目录信息"></a>查看目录信息</h2><pre><code>ls / ## 查看根目录下的子节点(文件夹和文件)信息
ls -al ## -a是显示隐藏文件 -l是以更详细的列表形式显示
ls -l ## 有一个别名: ll 可以直接使用ll&lt;是两个L&gt;
</code></pre><h2 id="切换工作目录"><a href="#切换工作目录" class="headerlink" title="切换工作目录"></a>切换工作目录</h2><pre><code>cd ~ ##切换都用户主目录
cd - ##切换上次所在的目录
cd 什么都不带,则回到用户的主目录
</code></pre><h2 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h2><pre><code>mkdir aaa ## 这是相对路径的写法
mkdir /data ## 这是绝对路径的写法
mkdir -p aaa/bbb/ccc ## 级联创建目录
</code></pre><h2 id="删除文件夹"><a href="#删除文件夹" class="headerlink" title="删除文件夹"></a>删除文件夹</h2><pre><code>rmdir aaa ##可以删除空目录
rm -r aaa ## 可以把aaa整个文件夹及其中的所有子节点全部删除
rm -rf aaa ## 强制删除aaa
</code></pre><h2 id="修改文件夹名称"><a href="#修改文件夹名称" class="headerlink" title="修改文件夹名称"></a>修改文件夹名称</h2><pre><code>mv aaa boy
mv本质上是移动
mv install.log aaa/ 将当前目录下的install.log移动到aaa文件夹中去

rename 可以用来批量更改文件名
[root@localhost aaa]# ll
total 0
-rw-r--r--. 1 root root 0 Jul 28 17:33 1.txt
-rw-r--r--. 1 root root 0 Jul 28 17:33 2.txt
-rw-r--r--. 1 root root 0 Jul 28 17:33 3.txt
[root@localhost aaa]# rename .txt .txt.bak *
[root@localhost aaa]# ll
total 0
-rw-r--r--. 1 root root 0 Jul 28 17:33 1.txt.bak
-rw-r--r--. 1 root root 0 Jul 28 17:33 2.txt.bak
-rw-r--r--. 1 root root 0 Jul 28 17:33 3.txt.bak
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/25/五笔口诀/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/25/五笔口诀/" itemprop="url">五笔口诀</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-25T17:11:17+08:00">
                2018-07-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>五笔字型最直观,依照笔画把码编;<br>键名汉字打四下,基本字根请照搬;<br>一二三末取四码,顺序拆分大优先;<br>不足四码要注意,交叉识别补后边</p>
<h2 id="86版五笔字根"><a href="#86版五笔字根" class="headerlink" title="86版五笔字根"></a>86版五笔字根</h2><p>1区横起笔<br>11G 王旁青头戋（兼）五一<br>12F 土士二干十寸雨<br>13D 大犬三（羊）古石厂<br>14S 木丁西<br>15A 工戈草头右框七<br>2区竖起笔<br>21H 目具上止卜虎皮<br>22J 日早两竖与虫依<br>23K 口与川，字根稀<br>24L 田甲方框四车力<br>25M 山由贝，下框几<br>3区撇起笔<br>31T 禾竹一撇双人立，反文条头共三一<br>32R 白手看头三二斤<br>33E 月彡（衫）乃用家衣底<br>34W 人和八，三四里<br>35Q 金勺缺点无尾鱼，犬旁留儿一点夕，氏无七（妻）<br>4区点起笔<br>41Y 言文方广在四一，高头一捺谁人去<br>42U 立辛两点六门疒<br>43I 水旁兴头小倒立<br>44O 火业头，四点米<br>45P 之字军盖道建底，摘礻（示）衤（衣）<br>5区折起笔<br>51N 已半巳满不出己，左框折尸心和羽<br>52B 子耳了也框向上<br>53V 女刀九臼山朝西<br>54C 又巴马，丢矢矣<br>55X 慈母无心弓和匕，幼无力</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/16/深入解读RabbitMQ工作原理及Java中简单使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/16/深入解读RabbitMQ工作原理及Java中简单使用/" itemprop="url">深入解读RabbitMQ工作原理及Java中简单使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-16T10:29:44+08:00">
                2018-07-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="引用-https-mp-weixin-qq-com-s-ryu-zD3U62m32BZdByNxng-http-www-cnblogs-com-vipstone"><a href="#引用-https-mp-weixin-qq-com-s-ryu-zD3U62m32BZdByNxng-http-www-cnblogs-com-vipstone" class="headerlink" title="引用: https://mp.weixin.qq.com/s/ryu-zD3U62m32BZdByNxng http://www.cnblogs.com/vipstone/"></a>引用: <a href="https://mp.weixin.qq.com/s/ryu-zD3U62m32BZdByNxng" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/ryu-zD3U62m32BZdByNxng</a> <a href="http://www.cnblogs.com/vipstone/" target="_blank" rel="noopener">http://www.cnblogs.com/vipstone/</a></h2><h2 id="RabbitMQ简介"><a href="#RabbitMQ简介" class="headerlink" title="RabbitMQ简介"></a>RabbitMQ简介</h2><p>在介绍RabbitMQ之前首先介绍一下MQ ,MQ是什么?</p>
<p>MQ全称是Message Queue.可以理解为消息队列的意思.简单的说就是消息以<br>管道的方式进行传递</p>
<p>RabbitMQ是一个实现了AMQP(Advanced Message Queuing Protocol)<br>高级消息队列协议的消息队列服务,用Erlang语音写成.</p>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>在我们秒杀抢购商品的时候,系统会提醒我们稍等排队中,而不是像几年前一样<br>页面卡死或报错给用户.</p>
<p>像这种排队结算就是用到了消息队列机制,放入通道里面一个一个结算处理,而不<br>是某个时间段突然涌入大批量的查询新增把数据库给搞宕机.所以RabbitMQ本质<br>上起到的作用就是削峰填谷,为业务保驾护航.</p>
<h2 id="为什么选择RabbitMQ"><a href="#为什么选择RabbitMQ" class="headerlink" title="为什么选择RabbitMQ"></a>为什么选择RabbitMQ</h2><p>现在市面上有很多MQ可以选择,比如ActiveMQ ZeroMQ Appche Qpid,那问<br>题来了为啥要选择RabbitMQ?</p>
<p>1: 除了Qpid,RabbitMQ是唯一一个实现了AMQP标准的消息服务器;<br>2: 可靠性,RabbitMQ的持久化支持,保证了消息的稳定性;<br>3: 高并发,RabbitMQ使用了Erlang开发语言,Erlang是为电话交换机开发的语言,<br>天生自带高并发光环,和高可用特性;<br>4: 集群部署简单,正是因为Erlang使得RabbitMQ集群部署变得超级简单;<br>5: 社区活跃度高,根据网上资料来看,RabbitMQ也是首选;</p>
<h2 id="工作机制"><a href="#工作机制" class="headerlink" title="工作机制"></a>工作机制</h2><h3 id="生产者-消费者和代理"><a href="#生产者-消费者和代理" class="headerlink" title="生产者 消费者和代理"></a>生产者 消费者和代理</h3><p>在了解消息通讯之前首先要了解3个概念:生产者 消费者和代理.</p>
<p>生产者:消息的创建者,负责创建和推送数据到消息服务器;</p>
<p>消费者:消息的接收方,用于处理数据和确认消息;</p>
<p>代理者:就是RabbitMQ本身,用于扮演”快递”的角色,本身不生产消息,<br>只是扮演”快递”的角色.</p>
<h3 id="消息发送原理"><a href="#消息发送原理" class="headerlink" title="消息发送原理"></a>消息发送原理</h3><p>首先你必须连接到Rabbit才能发布和消费消息,那怎么连接和发送消息呢?</p>
<p>你的应用程序和Rabbit Server之间会创建一个TCP连接,一旦TCP打开,<br>并通过认证,认证就是你试图连接Rabbit之前发送的Rabbit服务器连接<br>信息和用户名和密码,有点像程序连接数据库,使用Java有两种连接认证<br>的方式,后面代码会详细介绍,一旦认证通过你的应用程序和Rabbit就创建<br>了一条AMQP信道(Channel).</p>
<p>信道是创建在”真实”TCP上的虚拟连接,AMQP命令都是通过信道发送出去的,<br>每个信道都会有唯一的ID,不论是发布消息,订阅队列或者介绍消息都是通过<br>信道完成的.</p>
<h3 id="为什么不通过TCP直接发送命令"><a href="#为什么不通过TCP直接发送命令" class="headerlink" title="为什么不通过TCP直接发送命令?"></a>为什么不通过TCP直接发送命令?</h3><p>对于操作系统来说创建和销毁TCP会话是非常昂贵的开销,假设高峰期每秒<br>有成千上万条连接,每个连接都要创建一条TCP会话,这就造成了TCP连接的<br>巨大浪费,而且操作系统每秒能创建的TCP也是有限的,因此很快就会遇到系统<br>瓶颈.</p>
<p>如果我们每个请求都使用一条TCP连接,既满足了性能的需要,又能确保每个<br>连接的私密性,这就是引入信道概念的原因.</p>
<h2 id="你必须知道的RabbitMQ"><a href="#你必须知道的RabbitMQ" class="headerlink" title="你必须知道的RabbitMQ"></a>你必须知道的RabbitMQ</h2><p>想要真正的了解Rabbit有些名词是你必须知道的.</p>
<p>包括:ConnectionFactory(连接管理器) Channel(信道)<br>Exchange(交换器) Queue(队列) RoutingKey(路由键)<br>BindingKey(绑定键)</p>
<p>ConnectionFactory(连接管理器): 应用程序与Rabbit之间<br>建立连接的管理器,程序代码中使用;</p>
<p>Channel(信道) :消息推送使用的通道;</p>
<p>Exchange(交换器) :用于接受 分配消息;</p>
<p>Queue(队列): 用于存储生产者的消息;</p>
<p>RoutingKey(路由键): 用于把生成者的数据分配到交换器上;</p>
<p>bingdingKey(绑定键): 用于把交换器的消息绑带到队列上;</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/WwPkUCFX4x6A5PeoEjBet8tpwnyOsaoWhdsqr2n1dLrSfJlaofbVayxUTemicQlbFmiaEHUMY83AIOsIXTaNicPwQ/640?wx_fmt=gif&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="示例图片"></p>
<h2 id="消息持久化"><a href="#消息持久化" class="headerlink" title="消息持久化"></a>消息持久化</h2><p>Rabbit队列和交换器有一个不可告人的秘密,就是默认情况下重启<br>服务器会导致消息丢失,那么怎么保证Rabbit在重启的时候不丢失呢?<br>答案就是消息持久化.</p>
<p>当你把消息发送到Rabbit服务器的时候,你需要选择你是否要进行持久化,但这并<br>不能保证Rabbit能重崩溃中恢复,想要Rabbit消息能恢复必须要满足3个条件:</p>
<p>投递消息的时候durable设置为true,消息持久化;</p>
<p>消息已经到达持久化交换器上;</p>
<p>消息已经到达持久化的队列;</p>
<h3 id="持久化工作原理"><a href="#持久化工作原理" class="headerlink" title="持久化工作原理"></a>持久化工作原理</h3><p>Rabbit会将你的持久化消息写入磁盘上的持久化日志文件,等消息被消费后,Rabbit<br>会把这条消息标识为等待垃圾回收.</p>
<h3 id="持久化的缺点"><a href="#持久化的缺点" class="headerlink" title="持久化的缺点"></a>持久化的缺点</h3><p>消息持久化的优点显而易见,但缺点也很明显,那就是性能,因为要写入硬盘要比<br>写入内存性能低很多,从而降低了服务器的吞吐量,尽管使用SSD硬盘可以使事情<br>得到缓解,但他仍然吸干了Rabbit的性能,当消息成千上万条要写入磁盘的时候<br>,性能是很低的.</p>
<p>所以使用者要根据自己的的情况,选择适合自己的方式.</p>
<h2 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h2><p>每个Rabbit都能创建很多vhost,我们称之为虚拟主机,每个虚拟主机其实都是<br>mini版的RabbitMQ,拥有自己的队列,交换器和绑定,拥有自己的权限机制.</p>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>如果你是在Windows10上去安装那就更简单了，先放下载地址：</p>
<p>Erlang/Rabbit Server百度网盘链接：<a href="https://pan.baidu.com/s/1TnKDV-ZuXLiIgyK8c8f9dg" target="_blank" rel="noopener">https://pan.baidu.com/s/1TnKDV-ZuXLiIgyK8c8f9dg</a> 密码：wct9</p>
<p>当然也可去Erlang和Rabbit官网去下，就是速度比较慢。我的百度云Rabbit最新版本：3.7.6，Erlang版本：20.2，注意：不要下载最新的Erlang，在Windows10上打开扩展插件有问题，打不开。</p>
<p>1.安装Erlang；</p>
<p>2.安装Rabbit Server；</p>
<p>3.进入安装目录sbin下，使用命令“rabbitmq-plugins enable                                     rabbitmq_management”启动网页管理插件；</p>
<p>4.重启Rabbit服务；</p>
<p>使用：<a href="http://localhost:15672进行测试，默认的登陆账号为：guest，密码为：guest" target="_blank" rel="noopener">http://localhost:15672进行测试，默认的登陆账号为：guest，密码为：guest</a></p>
<h2 id="重复安装Rabbit-Server的坑"><a href="#重复安装Rabbit-Server的坑" class="headerlink" title="重复安装Rabbit Server的坑"></a>重复安装Rabbit Server的坑</h2><p>如果不是第一次在Windows上安装Rabbit Server一定要把Rabbit和Erlang卸载干净<br>之后，找到注册表：HKEY_LOCAL_MACHINESOFTWAREEricssonErlangErlSrv 删除<br>其下的所有项。</p>
<p>不然会出现Rabbit安装之后启动不了的情况，理论上卸载的顺序也是先Rabbit在Erlang。</p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>java版实现,使用maven项目.</p>
<p>项目创建成功之后,添加Rabbit Client jar包,只需要在pom.xml里面配置,如下信息:</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;
    &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;
    &lt;version&gt;4.7.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p>java实现代码分为两个类,第一个是创建Rabbit连接,第二是应用类使用最简单的方式<br>发布和消费消息.</p>
<h3 id="Rabbit的连接-两种方式"><a href="#Rabbit的连接-两种方式" class="headerlink" title="Rabbit的连接,两种方式:"></a>Rabbit的连接,两种方式:</h3><p>方式一:</p>
<pre><code>public static Connection GetRabbitConnection() {
    ConnectionFactory factory = new ConnectionFactory();
    factory.setUsername(Config.UserName);
    factory.setPassword(Config.Password);
    factory.setVirtualHost(Config.VHost);
    factory.setHost(Config.Host);
    factory.setPort(Config.Port);
    Connection conn = null;
    try {
        conn = factory.newConnection();
    } catch (Exception e) {
        e.printStackTrace(); 
    } 

    return conn;
}
</code></pre><p>方式二:</p>
<pre><code>public static Connection GetRabbitConnection() {
    ConnectionFactory factory = new ConnectionFactory();

    // 连接格式：amqp://userName:password@hostName:portNumber/virtualHost
    String uri = String.format(
            &quot;amqp://%s:%s@%s:%d%s&quot;, 
            Config.UserName, 
            Config.Password,
            Config.Host, 
            Config.Port,
            Config.VHost);
    Connection conn = null;
    try {
        factory.setUri(uri);
        factory.setVirtualHost(Config.VHost);
        conn = factory.newConnection();
    } catch (Exception e) {
        e.printStackTrace();
    }                
    return conn;
}
</code></pre><h3 id="第二部分-应用类-使用最简单的方式发布和消费消息"><a href="#第二部分-应用类-使用最简单的方式发布和消费消息" class="headerlink" title="第二部分: 应用类,使用最简单的方式发布和消费消息"></a>第二部分: 应用类,使用最简单的方式发布和消费消息</h3><pre><code>public static void main(String[] args) {
    Publisher(); // 推送消息

    Consumer(); // 消费消息
}

/**
* 推送消息
*/
public static void Publisher() {
    // 创建一个连接
    Connection conn = ConnectionFactoryUtil.GetRabbitConnection();
    if (conn != null) {
        try{
            // 创建通道
            Channel channel = conn.createChannel();
            // 声明队列【参数说明：参数一：队列名称，参数二：是否持久化；参数三：是否独占模式；参数四：消费者断开连接时是否删除队列；参数五：消息其他参数】
            channel.queueDeclare(Config.QueueName, false, false, false, null);
            String content = 
                String.format(&quot;当前时间: %s&quot;,new Date().getTime());
            // 发送内容【参数说明：参数一：交换机名称；参数二：队列名称，参数三：消息的其他属性；参数四：消息主体】
            channel.basicPublish(&quot;&quot;, Config.QueueName, null, content.getBytes(&quot;UTF-8&quot;));
            System.out.println(&quot;已发送消息：&quot; + content);
            // 关闭连接
            channel.close();
            conn.close();
        } catch(Exception e) {
            e.printStackTrace();
        }
    } 
}

/**
* 消费消息
*/
public static void Consumer() {
    // 创建一个连接
    Connection conn = ConnectionFactoryUtil.GetRabbitConnection();
    if(conn != null) {
        try {
            // 创建通道
            Channel channel = conn.createChannel();
            // 声明队列[参数说明:1:队列名称,2:是否持久化,3:是否独占模式,4:消费者断开连接时是否删除队列,5:消息其他参数]
            channel.queueDelare(Config.QueueName,false,false,false,null);

            //创建订阅器,并接受消息
            channel.basicConsume(Config.QueueName,false,&quot;&quot;,new DefaultConsumer(channel) {
                @Overrride
                public void handleDelivery(
                    String consumerTag,
                    Envelope envelope,
                    AMQP.BasicPropeties properties,
                    byte[] body) throws IOException {
                    String routingKey = envelope.getRoutingkey(); // 队列名称
                    String contentType = properties.getContentType(); // 内容类型
                    String content = new String(body,&quot;utf-8&quot;); // 消息正文
                    System.out.println(&quot;消息正文:&quot; + content);
                    channel.basicAck(envelope.getDeliveryTag(),false); // 手动确认消息(参数1:该消息的index;2:是否批量应答,true批量确认小于index的消息)
                }

            });

        } catch(Exception e) {
            e.printStackTrace();
        }
    }
}
</code></pre><p>代码里面已经写了很详细的注释，在这里也不过多的介绍了。</p>
<p>执行效果，如图：</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/WwPkUCFX4x6A5PeoEjBet8tpwnyOsaoWtlqQAptMtgjn6YQXj1cJxNGyc0puMV6EVf1dwtNhCzjDqfj85XCsibA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="示例图片"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/06/不止代码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/06/不止代码/" itemprop="url">不止代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-06T14:41:42+08:00">
                2018-07-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>不止代码理解</p>
<p>将学到的东西真正试试,才能理解更加深刻.</p>
<p>I hear and i forget .<br>I see and i remember.<br>I do and i understand.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/04/AtomicInteger原理分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/AtomicInteger原理分析/" itemprop="url">AtomicInteger原理分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-04T15:13:11+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>AtomicInteger通俗的讲就是:对某个内存值拷贝一个副本,<br>某个线程若读到这个副本,则对其进行计算,输出结果,在写入<br>内存时,再次取出内存值与该副本比较,若副本与内存值相同<br>则把新的值写入内存.</p>
<p>较为官方的解释:通过CAS(AtomicInteger)实现,</p>
<h2 id="CAS算法"><a href="#CAS算法" class="headerlink" title="CAS算法"></a>CAS算法</h2><p>CAS有三个操作数,内存值V,旧的预期值A,要修改的新值B.当且仅当预期值A和<br>内存值V相同时,将内存值V修改为B,否则什么都不做.</p>
<h3 id="两个问题"><a href="#两个问题" class="headerlink" title="两个问题:"></a>两个问题:</h3><h3 id="1"><a href="#1" class="headerlink" title="(1)"></a>(1)</h3><p> CSV算法仍然可能出现冲突,例如A,B两个线程,A已经进入写内存但未完成<br>，此时A读取到的副本且读取成功，AB两个线程同时进入写内存操作，必然会造<br>成冲突。 CAS算法本质并非完全无锁，而是把获得锁和释放锁推迟至CPU原语实<br>现，相当于尽可能的缩小了锁的范围；直接互斥地实现系统状态的改变，它的使<br>用基本思想是copy-on-write——在修改完对象的副本之后再用CAS操作将副本<br>替换为正本。 </p>
<h3 id="2"><a href="#2" class="headerlink" title="(2)"></a>(2)</h3><p>ABA问题，若其中一个线程修改A-&gt;B-&gt;A，另外一个线程仍然读取到A，虽然值是<br>预期值，但并不能说明该内存值没有变化。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/04/AtomicInteger类的理解与使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/AtomicInteger类的理解与使用/" itemprop="url"> AtomicInteger类的理解与使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-04T10:31:36+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>引用:<a href="https://blog.csdn.net/u012734441/article/details/51619751" target="_blank" rel="noopener">https://blog.csdn.net/u012734441/article/details/51619751</a></p>
<p>首先看两段代码，一段是Integer的，一段是AtomicInteger的，为以下：</p>
<pre><code>public class Sample1 {

    private static Integer count = 0;

    synchronized public static void increment() {
        count++;
    }

}
</code></pre><p>以下是AtomicInteger的：</p>
<pre><code>public class Sample2 {

    private static AtomicInteger count = new AtomicInteger(0);

    public static void increment() {
        count.getAndIncrement();
    }

}
</code></pre><p>对比发现:使用Integer时必须加上synchronized保证不会出现并发线程同时<br>访问的情况,而AtomicInteger中却不用加上synchronized,在这里AtomicInteger<br>是提供原子操作的.</p>
<p>AtomicInteger是一个提供原子操作的Integer类，通过线程安全的方式操作加减。</p>
<p>AtomicInteger使用场景</p>
<p>AtomicInteger提供原子操作来进行Integer的使用，因此十分适合高并发情况下的使用。</p>
<p>AtomicInteger源码部分讲解</p>
<pre><code>public class AtomicInteger extends Number implements java.io.Serializable {
    private static final long serialVersionUID = 6214790243416807050L;

    // setup to use Unsafe.compareAndSwapInt for updates
    private static final Unsafe unsafe = Unsafe.getUnsafe();
    private static final long valueOffset;

    static {
        try{
            valueOffset = unsafe.objectFieldOffset
                (AtomicInteger.class.getDeclaredField(&quot;value&quot;));
        } catch (Exception e) {
            throw new Error(ex);
        }
    }
    private volatile int value;

}
</code></pre><p>以上为AtomicInteger中的部分源码，在这里说下其中的value，<br>这里value使用了volatile关键字，volatile在这里可以做到的<br>作用是使得多个线程可以共享变量，但是问题在于使用volatile将<br>使得VM优化失去作用，导致效率较低，所以要在必要的时候使用，<br>因此AtomicInteger类不要随意使用，要在使用场景下使用。</p>
<h2 id="AtomicInteger实例使用"><a href="#AtomicInteger实例使用" class="headerlink" title="AtomicInteger实例使用"></a>AtomicInteger实例使用</h2><p>以下就是在多线程情况下，使用AtomicInteger的一个实例，这段代码是借用IT宅中的一段代码。</p>
<p> public class AtomicTest {</p>
<pre><code>static long randomTime() {
    return (long) (Math.random() * 1000);
}

public static void main(String[] args) {
    // 阻塞队列，能容纳100个文件
    final BlockingQueue&lt;File&gt; queue = new LinkedBlockingQueue&lt;File&gt;(100);
    // 线程池
    final ExecutorService exec = Executors.newFixedThreadPool(5);
    final File root = new File(&quot;D:\\ISO&quot;);
    // 完成标志
    final File exitFile = new File(&quot;&quot;);
    // 原子整型，读个数
    // AtomicInteger可以在并发情况下达到原子化更新，避免使用了synchronized，而且性能非常高。
    final AtomicInteger rc = new AtomicInteger();
    // 原子整型，写个数
    final AtomicInteger wc = new AtomicInteger();
    // 读线程
    Runnable read = new Runnable() {
        public void run() {
            scanFile(root);
            scanFile(exitFile);
        }

        public void scanFile(File file) {
            if (file.isDirectory()) {
                File[] files = file.listFiles(new FileFilter() {
                    public boolean accept(File pathname) {
                        return pathname.isDirectory() || pathname.getPath().endsWith(&quot;.iso&quot;);
                    }
                });
                for (File one : files)
             scanFile(one);
            } else {
                try {
                    // 原子整型的incrementAndGet方法，以原子方式将当前值加 1，返回更新的值
                    int index = rc.incrementAndGet();
                    System.out.println(&quot;Read0: &quot; + index + &quot; &quot; + file.getPath());
                    // 添加到阻塞队列中
                    queue.put(file);
                } catch (InterruptedException e) {

                }
            }
        }
    };
    // submit方法提交一个 Runnable 任务用于执行，并返回一个表示该任务的 Future。
    exec.submit(read);

    // 四个写线程
    for (int index = 0; index &lt; 4; index++) {
        // write thread
        final int num = index;
        Runnable write = new Runnable() {
            String threadName = &quot;Write&quot; + num;

            public void run() {
                while (true) {
                    try {
                        Thread.sleep(randomTime());
                        // 原子整型的incrementAndGet方法，以原子方式将当前值加 1，返回更新的值
                        int index = wc.incrementAndGet();
                        // 获取并移除此队列的头部，在元素变得可用之前一直等待（如果有必要）。
                        File file = queue.take();
                        // 队列已经无对象
                        if (file == exitFile) {
                            // 再次添加&quot;标志&quot;，以让其他线程正常退出
                            queue.put(exitFile);
                            break;
                                      }
                                                        System.out.println(threadName + &quot;: &quot; + index + &quot; &quot; + file.getPath());
                                                    } catch (InterruptedException e) {
                                                    }
                                                }
                                            }

                                        };
                                        exec.submit(write);
                                    }
                                    exec.shutdown();
                                }

                            }
</code></pre><h2 id="AtomicInteger使用总结"><a href="#AtomicInteger使用总结" class="headerlink" title="AtomicInteger使用总结"></a>AtomicInteger使用总结</h2><p>AtomicInteger是在使用非阻塞算法实现并发控制，在一些高并发程序中非常适合，但并不能每一种场景都适合，不同场景要使用使用不同的数值类。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/04/IntelliJ-IDEA开发快捷键-IDEA-tool-Keyboard-shutcuts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/IntelliJ-IDEA开发快捷键-IDEA-tool-Keyboard-shutcuts/" itemprop="url">IntelliJ IDEA开发快捷键(IDEA tool Keyboard shutcuts)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-04T09:46:52+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>IDEA tool Keyboard shutcuts：</p>
<table>
<thead>
<tr>
<th style="text-align:left">Action</th>
<th style="text-align:left">Mac OSX</th>
<th style="text-align:left">Win/Linux</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">注释代码(//)</td>
<td style="text-align:left">Cmd + /</td>
<td style="text-align:left">Ctrl + /</td>
</tr>
<tr>
<td style="text-align:left">注释代码(/**/)</td>
<td style="text-align:left">Cmd + Option + /</td>
<td style="text-align:left">Ctrl + Shift + /</td>
</tr>
<tr>
<td style="text-align:left">格式化代码</td>
<td style="text-align:left">Cmd + Option + L</td>
<td style="text-align:left">Ctrl + Alt + L</td>
</tr>
<tr>
<td style="text-align:left">清除无效包引用</td>
<td style="text-align:left">Option + Control + O</td>
<td style="text-align:left">Alt + Ctrl + O</td>
</tr>
<tr>
<td style="text-align:left">查找</td>
<td style="text-align:left">Cmd + F</td>
<td style="text-align:left">Ctrl + F</td>
</tr>
<tr>
<td style="text-align:left">查找+替换</td>
<td style="text-align:left">Cmd + R</td>
<td style="text-align:left">Ctrl + R</td>
</tr>
<tr>
<td style="text-align:left">上下移动代码</td>
<td style="text-align:left">Option + Shift + Up/Down</td>
<td style="text-align:left">Alt + Shift + Up/Down</td>
</tr>
<tr>
<td style="text-align:left">删除行</td>
<td style="text-align:left">Cmd + Delete</td>
<td style="text-align:left">Ctrl + Y</td>
</tr>
<tr>
<td style="text-align:left">扩大缩小选中范围</td>
<td style="text-align:left">Option + Up/Down</td>
<td style="text-align:left">Ctrl + W/Ctrl + Shift + W</td>
</tr>
<tr>
<td style="text-align:left">快捷生成结构体</td>
<td style="text-align:left">Cmd + Option + T</td>
<td style="text-align:left">Ctrl + Alt + T</td>
</tr>
<tr>
<td style="text-align:left">快捷覆写方法</td>
<td style="text-align:left">Cmd + O</td>
<td style="text-align:left">Ctrl + O</td>
</tr>
<tr>
<td style="text-align:left">快捷定位到行首/尾</td>
<td style="text-align:left">Cmd + Left/Right</td>
<td style="text-align:left">Ctrl + Left/Right</td>
</tr>
<tr>
<td style="text-align:left">折叠展开代码块</td>
<td style="text-align:left">Cmd + Plus,Minus</td>
<td style="text-align:left">Ctrl + Plus/Minus</td>
</tr>
<tr>
<td style="text-align:left">折叠展开全部代码块</td>
<td style="text-align:left">Cmd + Shift + Plus,Minus</td>
<td style="text-align:left">Ctrl + Shift + Plus,Minus</td>
</tr>
<tr>
<td style="text-align:left">文件方法结构</td>
<td style="text-align:left">Cmd + F12</td>
<td style="text-align:left">Ctrl + F12</td>
</tr>
<tr>
<td style="text-align:left">查找调用的位置</td>
<td style="text-align:left">Ctrl + Option + H</td>
<td style="text-align:left">Ctrl + Alt + H</td>
</tr>
<tr>
<td style="text-align:left">大小写转换</td>
<td style="text-align:left">Cmd + Shift + U</td>
<td style="text-align:left">Ctrl + Shift + U</td>
</tr>
<tr>
<td style="text-align:left">找到使用</td>
<td style="text-align:left">Alt+F7</td>
<td style="text-align:left">Alt+F7</td>
</tr>
<tr>
<td style="text-align:left">显示使用</td>
<td style="text-align:left">Ctrl+Alt+F7</td>
<td style="text-align:left">Ctrl+Alt+F7</td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/20/php中unset详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiong zi xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="I want jing jing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/20/php中unset详解/" itemprop="url">php中unset详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-20T08:59:33+08:00">
                2018-06-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>unset()经常会被用到,用于销毁指定的变量,但它有自己的行为模式,如果<br>不仔细的话可能被中文解释给迷惑:</p>
<p>先来看看官方文档的说法:</p>
<p>unset —- unset a given variable</p>
<p>void unset(mixed $var [,mixed $…]);</p>
<p>parameters:</p>
<p>var:The variable to be unset. //要unset的变量</p>
<p>…Anther variable… // 其他需要unset的变量</p>
<p>return Values:No value is returned.  //unset不返回值</p>
<p>Because this is a language construct and not a function,it<br>cannot be called using variable functions</p>
<p>//unset()是语言结构,不是函数,因此不能被函数变量调用,具体参照函数变量.</p>
<p>使用function_exists(‘unset’)返回的false,以此证明unset并不是一个函数<br>,所以无法使用$fun=’unset’;$fun()的方式调用unset()</p>
<p>it is possible to unset even object properties visible in current context.</p>
<p>// 通用环境下unset可以销毁对象或者对象的可见属性(public)</p>
<p>It is not possible to unset $this inside on object method since PHP5</p>
<p>// 在PHP5之前unset无法销毁对象中的$this方法</p>
<p>when using unset() on inaccessible object properties,the _unset()<br>overloading method will be called,if declare.</p>
<p>当unset()无法销毁对象中的属性,例如私有属性,保护属性,那么会自动加载对象中的_unset<br>方法.</p>
<p>description:</p>
<p>unset()destroys the specified variables. //unset()销毁指定的变量</p>
<p>The behavior of unset()inside of a function can vary depending</p>
<p>on what type of variable you are attempting to destroy.</p>
<p>// unset()的行为在函数内部可以根据你所指定销毁的变量类型变化.</p>
<p>情况一:</p>
<p>if a globalized variable is unset() inside of a function,only the local<br>variable is destroyed.The variable in the calling environment will<br>retain the same value as before unset() was called.</p>
<p>如果在函数内使用一个global使其全局化的变量,使用unset进行销毁,那么只有局部的<br>变量会被销毁,在调用环境的变量将会保留没有unset()销毁之前的调用的变量值.</p>
<p>the example:</p>
<pre><code>&lt;?php  
function destroy_foo()   
{  
    global $foo;  
    unset($foo);  
}  

$foo = &apos;bar&apos;;  
destroy_foo();  
echo $foo;  
?&gt;  
</code></pre><p>the above example will output:bar</p>
<p>这是官方文档的例子,可能这样还是不太明显,把上面的例子改成下面这样,一切就很清晰了.</p>
<pre><code>&lt;?php   
function des(){  
    global $foo;  
    $foo=&apos;bars&apos;;  
    unset($foo);  
    echo $foo;  
}  
$foo=&apos;bar&apos;;  
echo &quot;The globalized variable is unset() inside of a function:&quot;;  
des();  
echo &quot;&lt;br/&gt;&quot;;  
echo &quot;The variable in the calling environment:&quot;;  
echo $foo;  
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">xiong zi xu</p>
              <p class="site-description motion-element" itemprop="description">我想静静,别问我静静是谁</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xiong zi xu</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
